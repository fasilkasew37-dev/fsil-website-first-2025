<!DOCTYPE html>
<html lang="am">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>рЇІрѕ▓рѕЇ рІїрЅЦ ріарЇЋ - Fasil Web App (Final Frontend Draft - V3)</title>
    <style>
        /* --- рѕўрІ░рЅаріЏ CSS --- */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            text-align: center;
            padding: 20px;
            background-color: #f0f4f8;
            color: #333;
        }
        .section {
            max-width: 600px; /* рѕ░рЇІ рІФрѕѕ рѕўрѕЇріГ */
            margin: 40px auto;
            padding: 30px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            border-top: 6px solid #007bff;
            text-align: left;
            display: none;
        }
        h1 { color: #007bff; font-size: 32px; margin-bottom: 10px; text-align: center; }
        h2 { color: #555; font-size: 24px; margin-top: 25px; margin-bottom: 25px; text-align: center; }
        
        /* --- рІерїЇрЅЦрІЊрЅх ріЦріЊ ріарІЮрѕФрѕГ рѕхрЅ│рІГрѕјрЅй --- */
        input[type="text"], input[type="email"], input[type="password"], textarea, input[type="file"] {
            width: 90%;
            padding: 15px;
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 16px;
        }
        
        /* --- рІеріарІЮрѕФрѕГ рѕўрѕ░рѕерЅх --- */
        .button-link, button {
            display: block;
            width: 90%;
            padding: 18px;
            margin: 15px auto;
            text-align: center;
            border-radius: 10px;
            text-decoration: none;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            font-size: 18px; /* рЅхрѕІрѕЇрЅЁ ріарІЮрѕФрѕ«рЅй */
        }

        /* --- рІеріарІЮрѕФрѕГ рЅђрѕѕрѕърЅй --- */
        .main-btn {
            background-color: #007bff;
            color: white;
            border: none;
        }
        .main-btn:hover {
            background-color: #0056b3;
            transform: translateY(-2px);
        }
        
        .success-btn {
            background-color: #28a745;
            color: white;
            border: none;
        }
        .success-btn:hover {
            background-color: #1e7e34;
        }

        .premium-btn {
            background-color: #ffc107;
            color: #333;
            border: none;
        }
        .premium-btn:hover {
            background-color: #e0a800;
        }

        .delete-btn {
            background-color: #dc3545; 
            color: white;
            border: none;
        }
        .delete-btn:hover {
            background-color: #c82333;
        }

        .global-pay-btn {
            background-color: #2e7d32;
            color: white;
            border: 2px solid #1b5e20;
        }
        .global-pay-btn:hover {
            background-color: #1b5e20;
        }

        /* --- ріФрѕГрІХрЅй ріЦріЊ рѕЇрІЕ рЅдрЅ│рІјрЅй --- */
        .intro-text-box, .payment-info-box {
            background-color: #e9ecef;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 25px;
            border-left: 5px solid #007bff;
        }

        .plan-card {
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin: 15px auto;
            cursor: pointer;
            transition: box-shadow 0.3s ease;
            text-align: center;
        }
        .plan-card:hover {
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        
        .post-content-container {
            margin-top: 20px;
        }
        .post-item {
            border: 1px solid #ddd;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            background-color: #f9f9f9;
        }
        .post-title {
            color: #007bff;
            margin-top: 0;
        }
        .post-date {
            display: block;
            font-size: 12px;
            color: #999;
            margin-top: 5px;
        }
        .no-content {
            text-align: center;
            padding: 40px;
            color: #dc3545;
            font-weight: bold;
            background-color: #ffeaea;
            border-radius: 8px;
        }

        /* --- Loading Spinner --- */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            flex-direction: column;
            font-size: 20px;
            font-weight: bold;
            color: #007bff;
        }
        .spinner {
            border: 8px solid #f3f3f3;
            border-top: 8px solid #007bff;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
    </style>
</head>
<body>

    <div class="loading-overlay" id="loading-overlay">
        <div class="spinner"></div>
        <p id="loading-message">... ріЦрІерЅ░рїФріљ ріљрІЇ (Loading) ...</p>
    </div>

    <div class="section" id="home-view">
        <h1>ріЦріЋрі│ріЋ рІ░рѕЁріЊ рѕўрїА рІѕрІ░ рЇІрѕ▓рѕЇ рІїрЅЦ ріарЇЋ!</h1>
        <div class="intro-text-box">
            <h3>­Ъїљ рѕхрѕѕ рЇІрѕ▓рѕЇ рІїрЅЦ ріарЇЋ</h3>
            <p><strong>рЇІрѕ▓рѕЇ рІїрЅЦ ріарЇЋ</strong> рїѕріЋрІўрЅЦрІјріЋ ріерІІрїІ рѕўріЊрѕГ рѕѕрѕўрїарЅарЅЁ ріЦріЊ рІЊрѕѕрѕЮ ріарЅђрЇЇ рїЇрІбрІјрЅйріЋ рЅарЅЦрѕГ рѕѕрѕўрЇѕрЇђрѕЮ рІерѕџрІФрѕхрЅйрѕЇ рІерІ▓рїѓрЅ│рѕЇ рѕўрІхрѕеріГ ріљрІЇрЇб</p>
            <p><strong>рІеріарїѕрѕЇрїЇрѕјрЅх рїЦрѕФрЅх:</strong></p>
            <ul>
                <li>РюЁ **ріљрЇЃ:** рѕўрѕ░рѕерЅ│рІі рІерЇІрІГрѕЇ рѕЏрїІрѕФрЅх ріарїѕрѕЇрїЇрѕјрЅХрЅйріЋ рЅарїЦрѕФрЅх рЅђріЋрѕХ рІФрЅђрѕГрЅБрѕЇрЇб</li>
                <li>РГљ **ріГрЇЇрІФ (Premium):** рѕЂрѕЅріЋрѕЮ ріарїѕрѕЇрїЇрѕјрЅХрЅй рЅа**ріерЇЇрЅ░ріЏ рїЦрѕФрЅх**рЇБ **рЇѕрїБріЋ рЇЇрїЦріљрЅх** ріЦріЊ рІе**рІЊрѕѕрѕЮ ріарЅђрЇЇ рїЇрІЦ** ріарїѕрѕЇрїЇрѕјрЅх рІФрїѕріЏрѕЅрЇб</li>
            </ul>
        </div>
        
        <h2 style="text-align: center;">рІерѕџрЇѕрѕЇрїЅрЅхріЋ рІеріарїѕрѕЇрїЇрѕјрЅх ріарІГріљрЅх рЅарѕўрѕЮрѕерїЦ рІГрїђрѕЮрѕЕ:</h2>
        
        <a href="#signup-form" class="button-link main-btn" onclick="updateView()">рѕўрѕўрІЮрїѕрЅЦ/рѕўрїЇрЅБрЅх (ріљрЇЃ)</a>
        <a href="#pricing" class="button-link premium-btn" style="background-color: #ffc107; color: #333;">рЅаріГрЇЇрІФ ріарѕЏрѕФрїГ (Premium)</a>
    </div>

    <div class="section" id="signup-form">
        <h2 id="signup-title">рѕўрѕўрІЮрїѕрЅбрІФ (Sign Up - ріљрЇЃ)</h2>
        <input type="text" id="signup-phone" placeholder="рѕхрѕЇріГ рЅЂрїЦрѕГ (Required)" required>
        <input type="email" id="signup-email" placeholder="рібрѕюрѕЇ (Required)" required>
        <input type="password" id="signup-password" placeholder="рІерІГрѕѕрЇЇ рЅЃрѕЇ (6 ріарѕђрІЮ Password)" required maxlength="6">
        
        <button class="main-btn" onclick="handleSignUp()">рЅ░рѕўрІЮрїѕрЅЦ (Sign Up)</button>
        
        <p style="text-align: center; margin-top: 20px;"><a href="#login-form" onclick="updateView()">ріерІџрѕЁ рЅарЇірЅх рЅ░рѕўрІЮрїЇрЅарІІрѕЇ? рІГрїЇрЅА (Log In)</a></p>
    </div>

    <div class="section" id="login-form">
        <h2>рѕўрїЇрЅбрІФ (Log In)</h2>
        <input type="text" id="login-phone" placeholder="рѕхрѕЇріГ рЅЂрїЦрѕГ (Required)" required>
        <input type="password" id="login-password" placeholder="рІерІГрѕѕрЇЇ рЅЃрѕЇ (Password)" required>
        
        <button class="success-btn" onclick="handleLogin()">рїЇрЅБ (Log In)</button>
        
        <p style="text-align: center; margin-top: 20px;"><a href="#signup-form" onclick="updateView()">ріарІ▓рѕх рЅ░рїарЅЃрѕџ? рІГрѕўрІЮрїѕрЅА (Sign Up)</a></p>
    </div>

    <div class="section" id="pricing">
        <h2>рІеріГрЇЇрІФ ріарѕЏрѕФрї«рЅй (Premium Plans)</h2>
        <p style="text-align: center;">ріерѕџріерЅ░рѕЅрЅх ріарѕЏрѕФрї«рЅй ріаріЋрІ▒ріЋ рЅарѕўрѕЮрѕерїЦ рІѕрІ░ ріГрЇЇрІФ рІГрЅђрїЦрѕЅрЇб</p>

        <button class="global-pay-btn" style="margin-bottom: 25px; border: 2px solid #2e7d32;" onclick="checkPremiumAccess('global-purchase-page')">
            ­ЪїЇ рІЊрѕѕрѕЮ ріарЅђрЇЇ рїЇрІЦрІјрЅйріЋ рѕѕрѕўрЇѕрЇђрѕЮ (Global Purchase)
        </button>
        
        <div class="plan-card" onclick="selectPlan('daily')"><h3>рІЋрѕѕрЅ│рІі (Daily)</h3><p>5 рЅЦрѕГ (ETB)</p><button class="plan-btn success-btn" style="padding: 10px;">рІГрѕЁріЋ рѕЮрѕерїЦ</button></div>
        <div class="plan-card" onclick="selectPlan('weekly')"><h3>рѕ│рѕЮріЋрЅ│рІі (Weekly)</h3><p>25 рЅЦрѕГ (ETB)</p><button class="plan-btn success-btn" style="padding: 10px;">рІГрѕЁріЋ рѕЮрѕерїЦ</button></div>
        <div class="plan-card" onclick="selectPlan('monthly')"><h3>рІѕрѕГрѕЃрІі (Monthly)</h3><p>30 рЅЦрѕГ (ETB)</p><button class="plan-btn success-btn" style="padding: 10px;">рІГрѕЁріЋ рѕЮрѕерїЦ</button></div>
        <div class="plan-card" onclick="selectPlan('yearly')"><h3>рІЊрѕўрЅ│рІі (Yearly)</h3><p>100 рЅЦрѕГ (ETB)</p><button class="plan-btn success-btn" style="padding: 10px;">рІГрѕЁріЋ рѕЮрѕерїЦ</button></div>
        
        <button class="premium-btn" style="margin-top: 20px;" onclick="checkPremiumAccess('premium-services')">РГљ№ИЈ рЅаріГрЇЇрІФ ріарїѕрѕЇрїЇрѕјрЅ│рЅйріЋ рІФрѕЅрЅхріЋ рІГрѕўрѕЇріерЅ▒ / рІГрїјрЅЦріЎріЋ</button>
        
        <a href="#home-view" class="button-link back-btn">рІѕрІ░ рѕўріљрѕ╗ рЅ░рѕўрѕѕрѕх</a>
    </div>

    <div class="section" id="payment-methods">
        <h2>ріГрЇЇрІФ рІГрЇѕрЇЁрѕЎ (Payment)</h2>
        <p id="selected-plan-info" style="font-weight: bold; color: #dc3545; text-align: center;"></p>
        
        <div class="payment-info-box">
             **­Ъњ░ рІеріГрЇЇрІФ рїЇрѕЇрЇЁріљрЅх:**
             <p>рІГрѕЁ ріГрЇЇрѕЇ рЅа**Backend API** рЅаріЕрѕЇ рІеріГрЇЇрІФ рЅхрІЋрІЏрІЮ рІГрѕЇріФрѕЇрЇб</p>
             <p>рІГрѕЁ рІерѕЎріерѕФ рїѕрїй рѕхрѕѕрѕєріљрЇБ ріерЅ│рЅй рІФрѕѕрІЇріЋ рЅарЅ░ріЋ рѕ▓рїФріЉ ріГрЇЇрІФрІЇ ріЦріЋрІ░рЅ░рЇѕрїИрѕў рІГрЅєрїарѕФрѕЇрЇб</p>
             <strong>(ріЦрІЇріљрЅ░ріЏ рїѕріЋрІўрЅЦ ріарІГріерЇЇрѕЅрѕЮ)</strong>
        </div>

        <button class="payment-btn success-btn" onclick="processPayment('Telebirr')">рЅ┤рѕїрЅЦрѕГ (Telebirr) рЅ░рїарЅђрѕЮ</button>
        <button class="payment-btn success-btn" onclick="processPayment('PayPal')">рЇћрІГрЇЊрѕЇ (PayPal) рЅ░рїарЅђрѕЮ</button>
        <button class="payment-btn success-btn" onclick="processPayment('CBE')">CBE рІерЅБріЋріГ рІЮрІЇрІЇрѕГ рЅ░рїарЅђрѕЮ</button>

        <a href="#pricing" class="button-link back-btn">рІѕрІ░ рЇЋрѕІріќрЅй рЅ░рѕўрѕѕрѕх</a>
    </div>

    <div class="section" id="privacy-policy">
        <h2>рІерїЇрѕІрІіріљрЅх рЇќрѕірѕ▓ ріЦріЊ рїЦрЅЦрЅЁ рІеріарїарЅЃрЅђрѕЮ рѕўрѕўрѕфрІФ</h2>
        <div class="policy-text">
            <h3>­Ъћ┤ рїЦрЅЦрЅЁ рІеріарїарЅЃрЅђрѕЮ рѕўрѕўрѕфрІФ (Mandatory Use Policy)</h3>
            <p>рІерЇІрѕ▓рѕЇ ріарЇЋріЋ рЅарѕўрїарЅђрѕЮрІј рІерѕџріерЅ░рѕЅрЅхріЋ рѕЁрїјрЅй рІФрѕѕ рѕЮріЋрѕЮ рЅЁрІхрѕў рѕЂріћрЅ│ рЅ░рѕхрѕЏрѕЮрЅ░рІІрѕЇрЇА</p>
            <ul>
                <li><strong>рІерЇќрѕѕрЅ▓ріФ рЅхрЅйрЅх/рЅЁрѕхрЅђрѕ│ рІерЅ░ріерѕѕріерѕѕ ріљрІЇрЇА</strong> рЅарѕўрІхрѕеріЕ рѕІрІГ рѕЏріЋріЏрІЇріЋрѕЮ ріарІГріљрЅх рІерЇќрѕѕрЅ▓ріФ рїЦрѕІрЅ╗рЇБ рЅЁрѕхрЅђрѕ│ рІѕрІГрѕЮ рІерѕЃрІГрѕЏріќрЅх рїЇрїГрЅх рѕЏрѕ░рѕФрїерЅх рЅарїЦрЅЦрЅЁ рІерЅ░ріерѕѕріерѕѕ ріљрІЇрЇб</li>
                <li><strong>рѕЃрѕ░рЅ░ріЏ рѕўрѕерїЃ рѕЏрѕ░рѕФрїерЅх рІерЅ░ріерѕѕріерѕѕ ріљрІЇрЇА</strong> рѕўрѕерїЃрІЇ рЅхріГріГрѕѕріЏ рѕўрѕєріЉ рѕ│рІГрѕерїІрїѕрїЦ рѕЏрѕхрѕѕрїЦ рІерЅ░ріерѕѕріерѕѕ ріљрІЇрЇб</li>
                <li><strong>рІерїЦрЅЃрЅх рІѕрІГрѕЮ рІерїЦрѕІрЅ╗ ріЋрїЇрїЇрѕГ рІерЅ░ріерѕѕріерѕѕ ріљрІЇрЇА</strong> рѕ░рІјрЅйріЋ рІѕрІГрѕЮ рЅАрІхріќрЅйріЋ рІерѕџрІФрїарЅЂ рІГрІўрЅХрЅйріЋ рѕўрѕѕрїарЇЇ ріарІГрЇѕрЅђрІхрѕЮрЇб</li>
                <li><strong>ріЦрІхрѕю рїѕрІ░рЅЦрЇА</strong> ріарїѕрѕЇрїЇрѕјрЅ▒ріЋ рѕѕрѕўрїарЅђрѕЮ рЅбрІФріЋрѕх 18 рІЊрѕўрЅх рѕўрѕЎрѕІрЅх рїЇрІ┤рЅ│ ріљрІЇрЇб</li>
            </ul>
        </div>
        
        <button class="main-btn" onclick="handleAgreePolicy()">ріЦрѕхрѕЏрѕЏрѕѕрѕЂ (Agree & Continue)</button>
        <a href="#policy-disagree" class="button-link delete-btn">РЮї ріарѕЇрѕхрѕЏрѕЏрѕЮ/рІГрЅЁрѕГрЅЦріЮ (Disagree/Exit)</a>
    </div>

    <div class="section" id="policy-disagree">
        <h2 style="color: #dc3545;">Рџа№ИЈ рѕЏрѕхрїаріЋрЅђрЅѓрІФ: рІеріарїѕрѕЇрїЇрѕјрЅх рІЇрѕЇ</h2>
        <p style="text-align: center; font-size: 18px; font-weight: bold; color: #dc3545;">
            рЅарЇќрѕірѕ▓рІФрЅйріЋ ріФрѕЇрЅ░рѕхрѕЏрѕЎ рЇІрѕ▓рѕЇ рІїрЅЦ ріарЇЋріЋ рѕўрїарЅђрѕЮ ріарІГрЅйрѕЅрѕЮрЇб
        </p>
        <div style="margin-top: 30px; text-align: center;">
            <a href="#privacy-policy" class="button-link main-btn" style="width: 150px; display: inline-block;">РюЁ ріарѕЂріЋрѕЮ ріЦрѕ░рѕЏрѕЏрѕѕрѕЂ</a>
            <a href="#home-view" class="button-link delete-btn" style="width: 150px; display: inline-block;" onclick="handleExitPolicy()">­Ъџф рѕѕрѕўрІЇрїБрЅх рІГрїФріЉ</a>
        </div>
    </div>

    <div class="section" id="dashboard">
        <h1>рІІріЊрІЇ ріарїѕрѕЇрїЇрѕјрЅх (Dashboard)</h1>
        <p style="text-align: center;">рІерѕџрЇѕрѕЇрїЅрЅхріЋ рІГрѕЮрѕерїАріЊ рІѕрІ░ рЅхріГріГрѕѕріЏрІЇ рїѕрїй рІГрѕѓрІ▒рЇб</p>

        <button class="global-pay-btn" style="margin-top: 25px; border: 2px solid #2e7d32;" onclick="checkPremiumAccess('global-purchase-page')">
            ­ЪїЇ рІЊрѕѕрѕЮ ріарЅђрЇЇ рїЇрІЦрІјрЅйріЋ рѕѕрѕўрЇѕрЇђрѕЮ (Global Purchase)
        </button>
        <button class="premium-btn" style="margin-top: 5px; background-color: #ffc107; color: #333;" onclick="checkPremiumAccess('premium-services')">РГљ№ИЈ рЅаріГрЇЇрІФ ріарїѕрѕЇрїЇрѕјрЅ│рЅйріЋ рІФрѕЅрЅхріЋ рІГрѕўрѕЇріерЅ▒ / рІГрїјрЅЦріЎріЋ</button>
        <a href="#feedback-page" class="button-link main-btn" style="margin-top: 5px;">РГљ рѕѕрЇІрѕ▓рѕЇ рІїрЅЦ ріарЇЋ ріарѕхрЅ░рІФрІерЅх рѕѕрѕўрѕхрїарЅх</a>
        <button class="premium-btn" style="margin-top: 5px; background-color: #00bcd4;" onclick="checkPremiumAccess('feedback-view-page')">­ЪЉђ рІерЅ░рѕ░рїА ріарѕхрЅ░рІФрІерЅХрЅйріЋ рІГрѕўрѕЇріерЅ▒</button>

        <h2 style="margin-top: 30px;">­Ъјг рѕўрІЮріЊріЏ (Entertainment) ріЦріЊ рІюріЊ (News)</h2>
        <button class="premium-feature-btn main-btn" onclick="checkPremiumAccess('view-video')">­Ъјг рѕўрІЮріЊріЊрЅх (рЇірѕЇрѕЮ/рїЦрѕФрЅх рІФрѕѕрІЇ рЅфрІ▓рІ«)</button>
        <a href="#view-news" class="button-link main-btn">­ЪЊ░ рІюріЊрІјрЅйріЋ рѕўріерЅ│рЅ░рѕЇ</a>

        <h2 style="margin-top: 30px;">рІерЅ░рѕѕрїарЇЅ рѕўрѕерїЃрІјрЅйріЋ рѕўрѕўрѕЇріерЅх:</h2>
        <a href="#view-text" class="button-link main-btn">­ЪЊё рЇЁрѕЂрЇЇ/рѕўрѕерїЃ рЅ░рѕўрѕЇріерЅх</a>
        <a href="#view-image" class="button-link main-btn">­Ъќ╝№ИЈ рѕЮрѕхрѕЇ/рЇјрЅХ рЅ░рѕўрѕЇріерЅх</a>
        <a href="#view-audio" class="button-link main-btn">­ЪјД рідрІ▓рІ«/рІхрѕЮрЇЁ рЅ░рѕўрѕЇріерЅх</a>
        
        <a href="#delete-file-select" class="button-link delete-btn" style="margin-top: 15px;">­ЪЌЉ№ИЈ рІерѕѕрїарЇЅрЅхріЋ рЇІрІГрѕЇ рѕѕрѕўрІ░рѕѕрЅх ріЦрІџрѕЁ рІГрїФріЉ</a>

        <h2 style="margin-top: 30px;">ріарІ▓рѕх рѕўрѕерїЃ рѕѕрѕўрѕѕрїарЇЇ/рѕѕрѕЏрїІрѕФрЅх:</h2>
        <a href="#post-text" class="button-link main-btn">РюЇ№ИЈ рЇЁрѕЂрЇЇ рѕѕрѕўрѕѕрїарЇЇ</a>
        <a href="#post-image" class="button-link main-btn">­ЪЊи рѕЮрѕхрѕЇ рѕѕрѕўрѕѕрїарЇЇ</a>
        <a href="#post-audio" class="button-link main-btn">­ЪјЎ№ИЈ рідрІ▓рІ« рѕѕрѕўрѕѕрїарЇЇ</a>
    </div>
    
    <div class="section" id="global-purchase-page">
        <h2>­ЪїЇ рІЊрѕѕрѕЮ ріарЅђрЇЇ рїЇрІЦрІјрЅйріЋ рѕѕрѕўрЇѕрЇђрѕЮ</h2>
        <p style="text-align: center;">рЅарібрЅхрІ«рїхрІФ ріГрЇЇрІФ рІерѕЏрІГрЅђрЅарѕЅ рІерІЊрѕѕрѕЮ ріарЅђрЇЇ ріарїѕрѕЇрїЇрѕјрЅХрЅйріЋ рЅарЇІрѕ▓рѕЇ ріарЇЋ рЅаріЕрѕЇ рІГрїЇрІЎ!</p>
        
        <div class="payment-info-box">
             **Рџа№ИЈ рІеріГрЇЇрІФ рѕѓрІ░рЅх рїЇрѕЇрЇЁріљрЅх:**
             <p>рІерѕџрЇѕрѕЇрїЅрЅхріЋ ріарїѕрѕЇрїЇрѕјрЅх рѕ▓рѕўрѕГрїАрЇБ рЅарібрЅхрІ«рїхрІФ рЅЦрѕГ (ETB) рѕѕрѕўріГрЇѕрѕЇ рІерѕџрІФрѕхрЇѕрѕЇрїѕрІЇріЋ **рІерѕЮріЋрІЏрѕф рЅ░рѕўріЋ** ріЦріЊ рІе**ріарїѕрѕЇрїЇрѕјрЅх ріГрЇЇрІФ (Service Fee)** ріЦріЊрѕ│рІЇрЅЁрІјрЅ│рѕѕріЋрЇб</p>
        </div>

        <h3 style="margin-top: 30px;">рЅ│рІІрЅѓ рІЊрѕѕрѕЮ ріарЅђрЇЇ ріарїѕрѕЇрїЇрѕјрЅХрЅй:</h3>
        
        <button class="main-btn" onclick="handleGlobalPurchase('Domain Purchase')">­Ъїљ Domain рѕѕрѕўрїЇрІЏрЅх</button>
        <button class="main-btn" onclick="handleGlobalPurchase('Chat GPT Plus/Gemini Advanced')">­Ъцќ ChatGPT Plus / AI Subscription</button>
        <button class="main-btn" onclick="handleGlobalPurchase('Netflix/Disney+/Hulu')">­Ъјг Streaming Services Subscription</button>
        <button class="main-btn" onclick="handleGlobalPurchase('Amazon/AliExpress Shipment')">­ЪЊд рІеріарѕЏрІъріЋ/ріарѕіріцріГрѕхрЇЋрѕерѕх рѕўрѕІріфрІФ ріГрЇЇрІФ</button>
        
        <h3 style="margin-top: 30px;">рѕїрѕІ ріарїѕрѕЇрїЇрѕјрЅх ріарѕѕ?</h3>
        <button class="global-pay-btn" style="background-color: #f7a31b;" onclick="handleOtherPurchase()">РЮЊ рѕїрѕІ рІхрѕГрїЁрЅх/ріарїѕрѕЇрїЇрѕјрЅх (Other)</button>
        
        <a href="#dashboard" class="button-link back-btn delete-btn">рІѕрІ░ рІ│рѕйрЅдрѕГрІх рЅ░рѕўрѕѕрѕх</a>
    </div>

    <div class="section" id="post-text">
        <h2>РюЇ№ИЈ рїйрѕЉрЇЇ рІѕрІГрѕЮ рѕўрѕЇрІЋріГрЅх рѕѕрѕўрѕѕрїарЇЇ</h2>
        <input type="text" id="post-text-title" placeholder="рѕГрІЋрѕх (Title)" required>
        <textarea id="post-text-content" placeholder="рѕўрѕЇрІЋріГрЅхрІјріЋ ріЦрІџрѕЁ рІГрї╗рЇЅ..." rows="8" required></textarea>
        
        <button class="main-btn" onclick="handlePostText()">рѕўрѕЇрІЋріГрЅ▒ріЋ рѕѕрїЦрЇЇ (Post)</button>
        <a href="#dashboard" class="button-link back-btn delete-btn">рІѕрІ░ рІ│рѕйрЅдрѕГрІх рЅ░рѕўрѕѕрѕх</a>
    </div>

    <div class="section" id="post-image">
        <h2>­ЪЊи рѕЮрѕхрѕЇ/рЇјрЅХ рѕѕрѕўрѕѕрїарЇЇ</h2>
        <p class="premium-notice" id="image-quality-notice">рѕѕріерЇЇрЅ░ріЏ рїЦрѕФрЅх рѕЮрѕхрѕЇ рІе Premium ріарїѕрѕЇрїЇрѕјрЅх рІФрѕхрЇѕрѕЇрїІрѕЇрЇб</p>
        
        <input type="file" id="image-file" accept="image/*" style="width: 100%; margin-bottom: 20px;">
        <input type="text" id="post-image-title" placeholder="рІерѕЮрѕхрѕЅ рѕГрІЋрѕх (Title)" required>
        
        <button class="main-btn" onclick="handlePostImage()">рѕЮрѕхрѕЅріЋ рѕѕрїЦрЇЇ (Post)</button>
        <a href="#dashboard" class="button-link back-btn delete-btn">рІѕрІ░ рІ│рѕйрЅдрѕГрІх рЅ░рѕўрѕѕрѕх</a>
    </div>

    <div class="section" id="post-audio">
        <h2>­ЪјЎ№ИЈ рідрІ▓рІ«/рІхрѕЮрЇЁ рѕѕрѕўрѕѕрїарЇЇ</h2>
        <input type="file" id="audio-file" accept="audio/*" style="width: 100%; margin-bottom: 20px;">
        <input type="text" id="post-audio-title" placeholder="рІерідрІ▓рІ« рѕГрІЋрѕх (Title)" required>
        
        <button class="main-btn" onclick="handlePostAudio()">рідрІ▓рІ«рІЇріЋ рѕѕрїЦрЇЇ (Post)</button>
        <a href="#dashboard" class="button-link back-btn delete-btn">рІѕрІ░ рІ│рѕйрЅдрѕГрІх рЅ░рѕўрѕѕрѕх</a>
    </div>

    <div class="section" id="view-text">
        <h2>­ЪЊё рІерЅ░рѕѕрїарЇЅ рїйрѕЉрЇјрЅйріЋ рѕўрѕўрѕЇріерЅ╗</h2>
        <div class="post-content-container" id="text-posts-container"></div>
        <a href="#dashboard" class="button-link back-btn delete-btn">рІѕрІ░ рІ│рѕйрЅдрѕГрІх рЅ░рѕўрѕѕрѕх</a>
    </div>
    
    <div class="section" id="view-image">
        <h2>­Ъќ╝№ИЈ рІерЅ░рѕѕрїарЇЅ рѕЮрѕхрѕјрЅйріЋ рѕўрѕўрѕЇріерЅ╗</h2>
        <div class="post-content-container" id="image-posts-container"></div>
        <a href="#dashboard" class="button-link back-btn delete-btn">рІѕрІ░ рІ│рѕйрЅдрѕГрІх рЅ░рѕўрѕѕрѕх</a>
    </div>

    <div class="section" id="view-audio">
        <h2>­ЪјД рІерЅ░рѕѕрїарЇЅ рідрІ▓рІ«рІјрЅйріЋ рѕўрѕўрѕЇріерЅ╗</h2>
        <div class="post-content-container" id="audio-posts-container"></div>
        <a href="#dashboard" class="button-link back-btn delete-btn">рІѕрІ░ рІ│рѕйрЅдрѕГрІх рЅ░рѕўрѕѕрѕх</a>
    </div>
    
    <div class="section" id="view-video">
        <h2>­Ъјг рІерЅ░рѕѕрїарЇЅ рЅфрІ▓рІ«рІјрЅйріЋ/рѕўрІЮріЊріЏрІјрЅйріЋ рѕўрѕўрѕЇріерЅ╗</h2>
        <p class="no-content">­ЪџД рѕЮріЋрѕЮ рІерЅ░рѕѕрїарЇѕ **рЅфрІ▓рІ«/рѕўрІЮріЊріЏ** рЇІрІГрѕЇ рІерѕѕрѕЮрЇб (рІеPremium ріарїѕрѕЇрїЇрѕјрЅх)</p>
        <a href="#dashboard" class="button-link back-btn delete-btn">рІѕрІ░ рІ│рѕйрЅдрѕГрІх рЅ░рѕўрѕѕрѕх</a>
    </div>

    <div class="section" id="view-news">
        <h2>­ЪЊ░ рІюріЊ рѕўріерЅ│рЅ░рІФ</h2>
        <p class="no-content">­ЪџД рѕЮріЋрѕЮ **рІюріЊ** ріарѕЇрЅ░рїФріљрѕЮрЇб</p>
        <a href="#dashboard" class="button-link back-btn delete-btn">рІѕрІ░ рІ│рѕйрЅдрѕГрІх рЅ░рѕўрѕѕрѕх</a>
    </div>

    <div class="section" id="delete-file-select">
        <h2>­ЪЌЉ№ИЈ рІерЅхріЏрІЇріЋ рЇІрІГрѕЇ рѕўрІ░рѕѕрЅх рІГрЇѕрѕЇрїІрѕЅ?</h2>
        <p style="text-align: center;">ріЦрЅБріГрІј рѕўрІ░рѕѕрЅх рІерѕџрЇѕрѕЇрїЅрЅхріЋ рІерЇІрІГрѕЇ ріарІГріљрЅх рІГрѕЮрѕерїАрЇб</p>
        
        <button class="main-btn" onclick="prepareDelete('text')">­ЪЊё рІерЅ░рѕѕрїарЇѕ рїйрѕЉрЇЇ/рѕўрѕЇрІЋріГрЅх</button>
        <button class="main-btn" onclick="prepareDelete('image')">­Ъќ╝№ИЈ рІерЅ░рѕѕрїарЇѕ рѕЮрѕхрѕЇ/рЇјрЅХ</button>
        <button class="main-btn" onclick="prepareDelete('audio')">­ЪјД рІерЅ░рѕѕрїарЇѕ рідрІ▓рІ«/рІхрѕЮрЇЁ</button>
        
        <a href="#dashboard" class="button-link back-btn delete-btn">рІѕрІ░ рІ│рѕйрЅдрѕГрІх рЅ░рѕўрѕѕрѕх</a>
    </div>

    <div class="section" id="delete-file-view">
        <h2 id="delete-view-title"> рІерЅ░рѕѕрїарЇЅ рЇІрІГрѕјрЅйріЋ рѕўрІ░рѕѕрЅх</h2>
        <p style="text-align: center; font-weight: bold; color: #555;">рѕЂрѕЅріЋрѕЮ рѕЇрїЦрЇјрЅй рѕЏрІерЅх рІГрЅйрѕІрѕЅрЇб рІерѕФрѕхрІјріЋ рѕЇрїЦрЇЇ рЅЦрЅ╗ рѕўрІ░рѕѕрЅх рІГрЅйрѕІрѕЅрЇб</p>
        <div class="post-content-container" id="delete-posts-container">
            </div>
        <a href="#delete-file-select" class="button-link back-btn delete-btn">рІѕрІ░ рѕўрІ░рѕѕрЅ╗ рѕЮрѕГрїФ рЅ░рѕўрѕѕрѕх</a>
    </div>

    <div class="section" id="feedback-page">
        <h2>РГљ рѕђрѕ│рЅЦрІјріЋ рЅарІ░рѕхрЅ│ ріЦріЋрЅђрЅарѕІрѕѕріЋ!</h2>
        <p style="text-align: center;">ріЦрЅБріГрІј **рѕђрѕ│рЅЦрІјріЋ** рІѕрІГрѕЮ **ріарѕхрЅ░рІФрІерЅхрІјріЋ** рЅарѕџріерЅ░рѕЅрЅх ріарѕЏрѕФрї«рЅй рІФрЅЁрѕГрЅАрЇб</p>
        
        <button class="feedback-btn-option main-btn" onclick="handleFeedback('рїйрѕЂрЇЇ')">­ЪЊЮ рЅарїйрѕЂрЇЇ ріарѕхрЅ░рІФрІерЅх рІГрѕхрїА (Text)</button>
        <button class="feedback-btn-option main-btn" onclick="handleFeedback('рІхрѕЮрЇЁ')">­ЪјЎ№ИЈ рЅарІхрѕЮрЇЁ ріарѕхрЅ░рІФрІерЅх рІГрѕхрїА (Audio)</button>
        <button class="feedback-btn-option main-btn" onclick="handleFeedback('рЅфрІ▓рІ«')">­ЪЊ╣ рЅарЅфрІ▓рІ« ріарѕхрЅ░рІФрІерЅх рІГрѕхрїА (Video)</button>
        
        <a href="#dashboard" class="button-link back-btn delete-btn">рІѕрІ░ рІ│рѕйрЅдрѕГрІх рЅ░рѕўрѕѕрѕх</a>
    </div>

    <div class="section" id="feedback-view-page">
        <h2>­ЪЉђ рІерЅ░рѕ░рїА ріарѕхрЅ░рІФрІерЅХрЅйріЋ рІГрѕўрѕЇріерЅ▒</h2>
        <p style="text-align: center;">рІерѕџрЇѕрѕЇрїЅрЅхріЋ рІеріарѕхрЅ░рІФрІерЅх ріарІГріљрЅх рЅарѕўрѕЮрѕерїЦ рѕўрѕўрѕЇріерЅх рІГрЅйрѕІрѕЅрЇб</p>
        
        <button class="feedback-view-btn-option main-btn" onclick="handleFeedbackView('рЇЁрѕЂрЇЇ')">­ЪЊё рЅарЇЁрѕЂрЇЇ рІерЅ░рѕ░рїА ріарѕхрЅ░рІФрІерЅХрЅйріЋ рІГрѕўрѕЇріерЅ▒</button>
        <button class="feedback-view-btn-option main-btn" onclick="handleFeedbackView('рІхрѕЮрЇЁ')">­ЪјД рЅарІхрѕЮрЇЁ рІерЅ░рѕ░рїА ріарѕхрЅ░рІФрІерЅХрЅйріЋ рІФрІ│рѕЮрїА</button>
        <button class="feedback-view-btn-option main-btn" onclick="handleFeedbackView('рЅфрІ▓рІ«')">­ЪЊ║ рЅарЅфрІ▓рІ« рІерЅ░рѕ░рїА ріарѕхрЅ░рІФрІерЅХрЅйріЋ рІГрѕўрѕЇріерЅ▒</button>
        
        <a href="#dashboard" class="button-link back-btn delete-btn">рІѕрІ░ рІ│рѕйрЅдрѕГрІх рЅ░рѕўрѕѕрѕх</a>
    </div>

    <div class="section" id="premium-services">
        <h2> ріЦріЋрі│ріЋ рІѕрІ░ ріГрЇЇрІФ ріарїѕрѕЇрїЇрѕјрЅх рѕўрѕўрѕЇріерЅ╗ рЅарІ░рѕЁріЊ рѕўрїА!</h2>
        
        <div style="background-color: #e6f7ff; border: 1px solid #007bff; padding: 15px; border-radius: 6px; margin-bottom: 20px; text-align: center; color: #0056b3;">
            **­Ъћћ рѕЏрѕ│рѕ░рЅбрІФ:** рІГрѕЁ рІеріГрЇЇрІФ ріарїѕрѕЇрїЇрѕјрЅх рІЮрѕГрІЮрѕГ ріљрІЇрЇб рѕѕрѕўрїарЅђрѕЮ рѕўрїђрѕўрѕфрІФ <a href="#pricing">ріГрЇЇрІФ рІГріГрЇѕрѕЅрЇб</a>
        </div>

        <p style="text-align: center; font-weight: bold; color: #007bff;">рЅаріГрЇЇрІФ (Premium) рІерѕџрІФрїѕріЪрЅИрІЇ рІІріЊ рІІріЊ ріарїѕрѕЇрїЇрѕјрЅХрЅй рІЮрѕГрІЮрѕГ:</p>

        <button class="premium-feature-btn global-pay-btn" style="background-color: #4CAF50;" onclick="checkPremiumAccess('global-purchase-page')">
            <span class="feature-name">­ЪїЇ рІЊрѕѕрѕЮ ріарЅђрЇЇ рїЇрІЦрІјрЅйріЋ рЅарЅЦрѕГ рѕўрЇѕрЇђрѕЮ</span>
            <span class="feature-benefit" style="display: block; font-size: 14px; font-weight: normal;">рїѕріЋрІўрЅЦрІјріЋ ріерІІрїІ рѕўріЊрѕГ рѕѕрѕўрїарЅарЅЁ</span>
        </button>
        <button class="premium-feature-btn main-btn" onclick="checkPremiumAccess('view-video')">
            <span class="feature-name">­Ъјг рЅфрІ▓рІ« рѕўрѕўрѕЇріерЅх/рѕўрѕѕрїарЇЇ</span>
            <span class="feature-benefit" style="display: block; font-size: 14px; font-weight: normal;">рЅаріерЇЇрЅ░ріЏ рЇЇрїЦріљрЅх ріЦріЊ рїЦрѕФрЅх</span>
        </button>
        <a href="#view-image" class="button-link premium-feature-btn main-btn">
            <span class="feature-name">­Ъќ╝№ИЈ рѕЮрѕхрѕјрЅй рѕўрѕѕрїарЇЇ/рѕўрѕўрѕЇріерЅх</span>
            <span class="feature-benefit" style="display: block; font-size: 14px; font-weight: normal;">рЅарѕЎрѕЅ рїЦрѕФрЅх/AI рѕЏрѕ╗рѕ╗рІФ</span>
        </a>
        <a href="#dashboard" class="button-link premium-feature-btn main-btn">
            <span class="feature-name">­ЪЏЉ рѕЏрѕхрЅ│рІѕрЅѓрІФ ріарІГріќрѕГрѕЮ</span>
            <span class="feature-benefit" style="display: block; font-size: 14px; font-weight: normal;">рІФрѕѕ рѕЏрЅІрѕерїЦ ріарїѕрѕЇрїЇрѕјрЅх</span>
        </a>


        <a href="#pricing" class="button-link premium-btn" style="margin-top: 30px; background-color: #ffc107; color: #333;">ріарѕЂріЋ ріГрЇЇрІФ рѕѕрѕўріГрЇѕрѕЇ рІГрїФріЉ</a>
        <a href="#dashboard" class="button-link back-btn delete-btn">рІѕрІ░ ріљрЇЃ ріарїѕрѕЇрїЇрѕјрЅх (Dashboard) рІГрѕѓрІ▒</a>
    </div>

    <script>
        let currentSubscription = 'free';
        let selectedPlan = null;
        let deleteFileType = null; 

        const PLANS = {
            'daily': { name: 'рІЋрѕѕрЅ│рІі', price: '5 рЅЦрѕГ' },
            'weekly': { name: 'рѕ│рѕЮріЋрЅ│рІі', price: '25 рЅЦрѕГ' },
            'monthly': { name: 'рІѕрѕГрѕЃрІі', price: '30 рЅЦрѕГ' },
            'yearly': { name: 'рІЊрѕўрЅ│рІі', price: '100 рЅЦрѕГ' }
        };

        // --- рІерѕерІ│рЅх рЅ░рїЇрЅБрѕФрЅх (Utility Functions) ---

        function showLoading(message) {
            document.getElementById('loading-message').textContent = message;
            document.getElementById('loading-overlay').style.display = 'flex';
        }

        function hideLoading() {
            document.getElementById('loading-overlay').style.display = 'none';
        }

        // --- рІерЅ░рїарЅЃрѕџ ріарѕхрЅ░рІ│рІ░рѕГ (User Management) ---

        function setRegisteredUser(phone, password, tier) {
            let users = JSON.parse(localStorage.getItem('fasil_app_users') || '[]');
            
            const existingIndex = users.findIndex(u => u.phone === phone);

            if (existingIndex > -1) {
                const updatedUser = { 
                    phone, 
                    password: password !== null ? password : users[existingIndex].password, 
                    tier: tier || users[existingIndex].tier
                };
                users[existingIndex] = updatedUser;
            } else {
                users.push({ phone, password, tier: tier || 'free' });
            }
            
            localStorage.setItem('fasil_app_users', JSON.stringify(users));
            localStorage.setItem('fasil_current_user_phone', phone);
            currentSubscription = tier;
        }

        function getCurrentUserPhone() {
            return localStorage.getItem('fasil_current_user_phone');
        }

        function getCurrentUserTier() {
            const phone = getCurrentUserPhone();
            if (!phone) return 'free';

            const users = JSON.parse(localStorage.getItem('fasil_app_users') || '[]');
            const user = users.find(u => u.phone === phone);
            
            return user ? user.tier : 'free';
        }

        function handleSignUp() {
            const phone = document.getElementById('signup-phone').value.trim();
            const email = document.getElementById('signup-email').value.trim();
            const password = document.getElementById('signup-password').value.trim();

            if (!phone || !email || password.length !== 6) {
                alert("­Ъћ┤ ріЦрЅБріГрІј рѕЂрѕЅріЋрѕЮ рѕўрѕхрі«рЅй рЅарЅхріГріГрѕЇ рІГрѕЎрѕЅ (рІерІГрѕѕрЇЇ рЅЃрѕЇ 6 ріарѕЃрІЮ рѕўрѕєріЋ ріарѕѕрЅарЅх)рЇб");
                return;
            }

            setRegisteredUser(phone, password, 'free');
            alert(`РюЁ рѕЮрІЮрїѕрЅБрІј рЅ░рїаріЊрЅІрѕЇрЇб ріЦріЋрі│ріЋ рІ░рѕЁріЊ рѕўрїА!`);
            
            window.location.hash = '#privacy-policy';
            updateView();
        }

        function handleLogin() {
            const phone = document.getElementById('login-phone').value.trim();
            const password = document.getElementById('login-password').value.trim();

            if (!phone || !password) {
                alert("­Ъћ┤ ріЦрЅБріГрІј рІерѕхрѕЇріГ рЅЂрїЦрѕГ ріЦріЊ рІерІГрѕѕрЇЇ рЅЃрѕЇ рІФрѕхрїѕрЅАрЇб");
                return;
            }

            const users = JSON.parse(localStorage.getItem('fasil_app_users') || '[]');
            const user = users.find(u => u.phone === phone && u.password === password);

            if (user) {
                localStorage.setItem('fasil_current_user_phone', phone);
                currentSubscription = user.tier;
                alert(`РюЁ рЅарЅ░рѕ│ріФ рѕЂріћрЅ│ рїѕрЅЦрЅ░рІІрѕЇ!`);
                
                if (localStorage.getItem('fasil_policy_agreed') === 'true') {
                    window.location.hash = '#dashboard';
                } else {
                    window.location.hash = '#privacy-policy';
                }
            } else {
                alert("­Ъћ┤ рІерѕхрѕЇріГ рЅЂрїЦрѕГ рІѕрІГрѕЮ рІерІГрѕѕрЇЇ рЅЃрѕЇ рЅхріГріГрѕЇ ріарІГрІ░рѕѕрѕЮрЇб");
            }
            updateView();
        }

        function handleAgreePolicy() {
            localStorage.setItem('fasil_policy_agreed', 'true');
            alert("РюЁ рЅарЇќрѕірѕ▓рІЇ рЅ░рѕхрѕЏрѕЮрЅ░рІІрѕЇрЇб рІѕрІ░ рІ│рѕйрЅдрѕГрІх рІГрЅђрїЦрѕЅрЇб");
            window.location.hash = '#dashboard';
            updateView();
        }

        function handleExitPolicy() {
             alert("­Ъџф ріеріарїѕрѕЇрїЇрѕјрЅ▒ рІѕрїЦрЅ░рІІрѕЇ!");
             localStorage.removeItem('fasil_current_user_phone');
             window.location.hash = '#home-view';
             updateView();
        }

        // РюЁ рѕЏрѕ╗рѕ╗рІФ 1: Premium Access рѕўрЅєрїБрїарѕГ
        function checkPremiumAccess(destinationHash) {
            if (getCurrentUserTier() !== 'premium') {
                alert("­ЪЏЉ рІГрѕЁ Premium ріарїѕрѕЇрїЇрѕјрЅх ріљрІЇрЇб ріЦрЅБріГрІј рІГрѕўрІЮрїѕрЅАріЊ ріГрЇЇрІФ рІГріГрЇѕрѕЅрЇб");
                window.location.hash = '#pricing';
                updateView();
            } else {
                // Premium ріерѕєріљ рІѕрІ░ рЅ░рЇѕрѕѕрїѕрІЇ рїѕрїй рѕўрѕІріГ
                window.location.hash = '#' + destinationHash;
                updateView();
            }
        }


        // --- рІеріГрЇЇрІФ рЅ░рїЇрЅБрѕФрЅх (Payment Functions) ---

        function selectPlan(planKey) {
            selectedPlan = planKey;
            const planDetails = PLANS[selectedPlan];
            
            document.getElementById('selected-plan-info').textContent = 
                `рІерѕўрѕерїАрЅх ріЦрЅЁрІх: ${planDetails.name} - ${planDetails.price}`;

            window.location.hash = '#payment-methods';
            updateView();
        }

        function processPayment(method) {
            if (!selectedPlan) {
                alert("Рџа№ИЈ ріЦрЅБріГрІј рѕўрїђрѕўрѕфрІФ рІеріГрЇЇрІФ ріЦрЅЁрІх рІГрѕЮрѕерїА!");
                return;
            }
            if (!getCurrentUserPhone()) {
                alert("­Ъћ┤ ріГрЇЇрІФ ріерѕўрЇѕрїИрѕЮрІј рЅарЇірЅх рѕўрїЇрЅБрЅх ріарѕѕрЅЦрІјрЅх!");
                window.location.hash = '#login-form';
                updateView();
                return;
            }

            const planDetails = PLANS[selectedPlan];
            showLoading(`...ріГрЇЇрІФрІЇріЋ рЅа ${method} рЅарѕЏрѕхрЇѕрїИрѕЮ рѕІрІГ (${planDetails.price})...`);

            setTimeout(() => {
                hideLoading();
                
                const userPhone = getCurrentUserPhone();
                if (userPhone) {
                    setRegisteredUser(userPhone, null, 'premium');
                    currentSubscription = 'premium';
                    
                    alert(`РюЁ ріЦріЋрі│ріЋ рІ░рѕх ріарѕѕрІјрЅх! рІе${planDetails.name} (${planDetails.price}) ріГрЇЇрІФ рЅ░рЇѕрїйрѕЪрѕЇ! ріарѕЂріЋ рІеPremium рЅ░рїарЅЃрѕџ ріљрІјрЅхрЇб`);
                    
                    window.location.hash = '#dashboard';
                    updateView();
                } else {
                    alert("Рџа№ИЈ рЅйрїЇрѕГ: рІерѕўрїЇрЅбрІФ рѕўрѕерїЃрІј ріарѕЇрЅ░рїѕріўрѕЮрЇб ріЦрЅБріГрІј ріЦріЋрІ░рїѕріЊ рІГрїЇрЅАрЇб");
                    window.location.hash = '#login-form';
                    updateView();
                }
            }, 3000); 
        }

        // --- рІЊрѕѕрѕЮ ріарЅђрЇЇ рїЇрІЦ (Global Purchase Handlers) ---
        function handleGlobalPurchase(service) {
            // рІГрѕЁ рЅ░рїЇрЅБрѕГ рІерѕџрїБрѕФрІЇ checkPremiumAccess ріерЅ░рЇѕрЅђрІ░ рЅаріІрѕІ рЅЦрЅ╗ рѕхрѕѕрѕєріљрЇБ Tier рѕЏрѕерїІрїѕрїЦ ріарІФрѕхрЇѕрѕЇрїЇрѕЮ
            showLoading(`...рІе ${service} ріарїѕрѕЇрїЇрѕјрЅх рІерІІрїІ рѕхрѕїрЅх рЅарѕўрЇѕрѕѕрїЇ рѕІрІГ...`);
            setTimeout(() => {
                hideLoading();
                alert(`­Ъїљ рІе ${service} рїЇрІб рЅарЅхріГріГрѕѕріЏрІЇ рІерѕЮріЋрІЏрѕф рЅ░рѕўріЋ ріЦріЊ рІеріарїѕрѕЇрїЇрѕјрЅх ріГрЇЇрІФ (Service Fee) рЅ░рѕ░рѕЇрЅХ рІѕрІ░ ріГрЇЇрІФ рїѕрїй рІГрѕёрІх ріљрЅарѕГрЇб`);
            }, 2500);
        }

        function handleOtherPurchase() {
            alert("РЮЊ рѕїрѕІ ріарїѕрѕЇрїЇрѕјрЅх рѕўрїЇрІЏрЅх ріерЇѕрѕѕрїЅрЇБ рІѕрІ░ рІерІхрїІрЇЇ рѕўрѕхрѕўрѕФрЅйріЋ (Support) рѕўрѕерїЃ ріЦріЋрІ▓рѕЇріЕ рІГрѕІріФрѕЅрЇб");
        }


        // --- рІерЇќрѕхрЅх ріЦріЊ рІеDelete рЅ░рїЇрЅБрѕФрЅх (Post & Delete Functions) ---
        
        function savePost(type, title, content) {
            const userPhone = getCurrentUserPhone();
            if (!userPhone) return;
            
            let posts = JSON.parse(localStorage.getItem(`fasil_posts_${type}`) || '[]');
            posts.unshift({
                id: Date.now(),
                title: title,
                content: content,
                date: new Date().toLocaleDateString('am-ET'),
                type: type,
                postedBy: userPhone 
            });
            localStorage.setItem(`fasil_posts_${type}`, JSON.stringify(posts));
        }

        function handlePostText() { 
             if (!getCurrentUserPhone()) { alert("­Ъћ┤ рѕѕрѕўрѕѕрїарЇЇ рѕўрїЇрЅБрЅх рІФрѕхрЇѕрѕЇрїЇрІјрЅ│рѕЇ!"); return; }
             const title = document.getElementById('post-text-title').value.trim();
             const content = document.getElementById('post-text-content').value.trim();
             if (!title || !content) { alert("­Ъћ┤ рѕГрІЋрѕх ріЦріЊ рѕўрѕЇрІЋріГрЅх рѕЏрѕхрїѕрЅБрЅх рїЇрІ┤рЅ│ ріљрІЇрЇб"); return; }
             savePost('text', title, content);
             alert("РюЁ рїйрѕЉрЇЇрІј рЅарЅ░рѕ│ріФ рѕЂріћрЅ│ рЅ░рѕѕрїЦрЇЈрѕЇрЇб");
             window.location.hash = '#view-text';
             updateView();
        }
        
        function handlePostImage() { 
             if (!getCurrentUserPhone()) { alert("­Ъћ┤ рѕѕрѕўрѕѕрїарЇЇ рѕўрїЇрЅБрЅх рІФрѕхрЇѕрѕЇрїЇрІјрЅ│рѕЇ!"); return; }
             const title = document.getElementById('post-image-title').value.trim();
             const fileInput = document.getElementById('image-file');
             const fileName = fileInput.files.length > 0 ? fileInput.files[0].name : "рѕЮрѕхрѕЇ ріарѕЇрЅ░рѕўрѕерїарѕЮ";
             
             if (!title || fileInput.files.length === 0) {
                 alert("­Ъћ┤ рѕГрІЋрѕх ріЦріЊ рІерѕЮрѕхрѕЇ рЇІрІГрѕЇ рѕўрѕЮрѕерїЦ рїЇрІ┤рЅ│ ріљрІЇрЇб");
                 return;
             }
             savePost('image', title, fileName); 
             alert("РюЁ рѕЮрѕхрѕЇрІј рЅарЅ░рѕ│ріФ рѕЂріћрЅ│ рЅ░рѕѕрїЦрЇЈрѕЇрЇб");
             window.location.hash = '#view-image';
             updateView();
        }

        function handlePostAudio() { 
             if (!getCurrentUserPhone()) { alert("­Ъћ┤ рѕѕрѕўрѕѕрїарЇЇ рѕўрїЇрЅБрЅх рІФрѕхрЇѕрѕЇрїЇрІјрЅ│рѕЇ!"); return; }
             const title = document.getElementById('post-audio-title').value.trim();
             const fileInput = document.getElementById('audio-file');
             const fileName = fileInput.files.length > 0 ? fileInput.files[0].name : "рідрІ▓рІ« ріарѕЇрЅ░рѕўрѕерїарѕЮ";
             
             if (!title || fileInput.files.length === 0) {
                 alert("­Ъћ┤ рѕГрІЋрѕх ріЦріЊ рІерідрІ▓рІ« рЇІрІГрѕЇ рѕўрѕЮрѕерїЦ рїЇрІ┤рЅ│ ріљрІЇрЇб");
                 return;
             }
             savePost('audio', title, fileName); 
             alert("РюЁ рідрІ▓рІ«рІј рЅарЅ░рѕ│ріФ рѕЂріћрЅ│ рЅ░рѕѕрїЦрЇЈрѕЇрЇб");
             window.location.hash = '#view-audio';
             updateView();
        }

        // рІерЅ░рѕѕрїарЇЅ рІГрІўрЅХрЅйріЋ рѕўрѕўрѕЇріерЅх (Display Logic)
        function renderPosts(type) {
            const containerId = `${type}-posts-container`;
            const postContainer = document.getElementById(containerId);
            
            let posts = JSON.parse(localStorage.getItem(`fasil_posts_${type}`) || '[]');
            postContainer.innerHTML = ''; 

            if (posts.length === 0) {
                postContainer.innerHTML = `<p class="no-content">РЮї рѕЮріЋрѕЮ рІерЅ░рѕѕрїарЇѕ **${type === 'text' ? 'рЇЁрѕЉрЇЇ/рѕўрѕерїЃ' : type === 'image' ? 'рѕЮрѕхрѕЇ/рЇјрЅХ' : 'рідрІ▓рІ«/рІхрѕЮрЇЁ'}** рЇІрІГрѕЇ рІерѕѕрѕЮрЇб</p>`;
            } else {
                posts.forEach(post => {
                    let displayContent = '';
                    if (type === 'text') {
                        displayContent = `<p class="post-content">${post.content}</p>`;
                    } else if (type === 'image') {
                         displayContent = `
                             <p class="post-content" style="font-weight: bold; color: #007bff;">[рІерѕЮрѕхрѕЇ рЇІрІГрѕЇ: ${post.content}]</p>
                             <p style="font-size: 14px;">(рѕЮрѕхрѕЅ рЅа Backend рѕ▓рїѕріљрЅБ рІГрЅ│рІФрѕЇ)</p>
                         `;
                    } else if (type === 'audio') {
                         displayContent = `
                             <p class="post-content" style="font-weight: bold; color: #007bff;">[рІерідрІ▓рІ« рЇІрІГрѕЇ: ${post.content}]</p>
                             <p style="font-size: 14px;">(рідрІ▓рІ«рІЇ рЅа Backend рѕ▓рїѕріљрЅБ рІГрѕ░рѕЏрѕЇ)</p>
                         `;
                    }

                    postContainer.innerHTML += `
                        <div class="post-item">
                            <h4 class="post-title">${post.title}</h4>
                            ${displayContent}
                            <span class="post-date">рІерЅ░рѕѕрїарЇѕрЅарЅх рЅђріЋ: ${post.date}</span>
                            <p style="font-size: 12px; color: #777;">рІерѕѕрїарЇѕрІЇ: ${post.postedBy.substring(0, 4)}***${post.postedBy.substring(post.postedBy.length - 4)}</p>
                        </div>
                    `;
                });
            }
        }

        // рѕѕ Delete рїѕрїй рѕЏрІўрїІрїђрЅх
        function prepareDelete(type) {
            if (!getCurrentUserPhone()) {
                alert("­Ъћ┤ рЇІрІГрѕјрЅйріЋ рѕѕрѕўрІ░рѕѕрЅх рѕўрїђрѕўрѕфрІФ рѕўрїЇрЅБрЅх рІФрѕхрЇѕрѕЇрїЇрІјрЅ│рѕЇрЇб");
                window.location.hash = '#login-form';
                updateView();
                return;
            }
            deleteFileType = type;
            window.location.hash = '#delete-file-view';
            updateView();
        }

        // РюЁ рѕЏрѕ╗рѕ╗рІФ 2: рѕЂрѕЅріЋрѕЮ рѕЇрїЦрЇјрЅй рѕЏрѕ│рІерЅх рїЇріЋ рІерѕїрѕјрЅйріЋ рѕўрІ░рѕѕрЅх рѕўріерѕЇріерѕЇ
        function renderDeletePosts(type) {
            const container = document.getElementById('delete-posts-container');
            const titleElement = document.getElementById('delete-view-title');
            container.innerHTML = '';
            
            titleElement.textContent = `­ЪЌЉ№ИЈ рІерЅ░рѕѕрїарЇЅ ${type === 'text' ? 'рїйрѕЉрЇјрЅйріЋ' : type === 'image' ? 'рѕЮрѕхрѕјрЅйріЋ' : 'рідрІ▓рІ«рІјрЅйріЋ'} рѕўрІ░рѕѕрЅх`;
            
            const userPhone = getCurrentUserPhone();
            if (!userPhone) return;

            let posts = JSON.parse(localStorage.getItem(`fasil_posts_${type}`) || '[]');
            
            if (posts.length === 0) { 
                container.innerHTML = `<p class="no-content">РЮї рѕЮріЋрѕЮ рІерЅ░рѕѕрїарЇѕ **${type}** рЇІрІГрѕЇ ріарѕЇрЅ░рїѕріўрѕЮрЇб</p>`;
            } else {
                posts.forEach(post => {
                    const isMyPost = post.postedBy === userPhone;
                    
                    let actionButton = '';
                    if (isMyPost) {
                        // РюЁ рІерѕФрѕхрІј ріерѕєріљ: рІерѕўрІ░рѕѕрЅ╗ рЅарЅ░ріЋ рІФрѕ│рІФрѕЇ
                        actionButton = `
                            <button class="delete-btn" style="width: 100%; padding: 10px; margin-top: 10px;" 
                                    onclick="deletePost('${type}', ${post.id})">
                                рѕўрІхрѕѕрЅх
                            </button>
                        `;
                    } else {
                        // РЮї рІерѕїрѕІ рѕ░рІЇ ріерѕєріљ: рІерѕЏрѕхрїаріЋрЅђрЅѓрІФ рЅарЅ░ріЋ рІФрѕ│рІФрѕЇ
                        actionButton = `
                            <button class="delete-btn" style="background-color: #f7a31b; color: #333; width: 100%;" 
                                    onclick="alert('РЮї рІГрѕЁ рІерѕГрѕхрІј рѕЇрїЦрЇЇ ріарІГрІ░рѕѕрѕЮрЇб рІерѕїрѕјрЅй рѕ░рІјрЅйріЋ рѕЇрїЦрЇЇ рѕўрІ░рѕѕрЅх ріарІГрЅйрѕЅрѕЮрЇб')">
                                рІерѕїрѕІ рѕ░рІЇ рѕЇрїЦрЇЇ (рѕўрІ░рѕѕрЅх ріарІГрЅ╗рѕЇрѕЮ)
                            </button>
                        `;
                    }
                    
                    // рІеDelete View рѕІрІГ рІерѕ░рЇІрЇі ріарІЮрѕФрѕ«рЅй рѕўрѕЇріГ ріЦріЋрІ▓рІГрІЮ (рІерЅђрІ░рѕЎрЅхріЋ рІерїарЅБрЅЦ рѕхрЅ│рІГрѕјрЅй ріарѕхрІѕрїЇрІирѕЇ)
                    container.innerHTML += `
                        <div class="post-item" id="delete-item-${post.id}">
                            <h4 class="post-title">${post.title}</h4>
                            <p>рЅђріЋ: ${post.date}</p>
                            <p style="font-size: 12px; color: #777;">рІерѕѕрїарЇѕрІЇ: ${post.postedBy.substring(0, 4)}***${post.postedBy.substring(post.postedBy.length - 4)}</p>
                            ${actionButton}
                        </div>
                    `;
                });
            }
        }

        // рЇІрІГрѕЇріЋ ріе Local Storage рІерѕЏрІ░рѕѕрЅх рЅ░рїЇрЅБрѕГ
        function deletePost(type, id) {
            if (!confirm("рЅаріЦрѕГрїЇрїЦ рІГрѕЁріЋріЋ рЇІрІГрѕЇ рѕўрІ░рѕѕрЅх рІГрЇѕрѕЇрїІрѕЅ?")) {
                return;
            }
            
            const userPhone = getCurrentUserPhone();
            if (!userPhone) {
                alert("­Ъћ┤ ріЦрЅБріГрІј рѕўрїђрѕўрѕфрІФ рІГрїЇрЅА!");
                return;
            }

            let posts = JSON.parse(localStorage.getItem(`fasil_posts_${type}`) || '[]');
            
            // РюЁ рІерІ░рѕЁріЋріљрЅх рѕЏрѕерїІрїѕрїФ: рІерЇІрІГрѕЅ рЅБрѕѕрЅцрЅх рѕўрѕєріЋ ріарѕѕрѕўрѕєріЉріЋ рѕЏрѕерїІрїѕрїЦ
            const postToDelete = posts.find(post => post.id === id);
            
            if (postToDelete && postToDelete.postedBy !== userPhone) {
                 alert("РЮї рІГрЅЁрѕГрЅ│! рІГрѕЁ рЇІрІГрѕЇ рІерѕГрѕхрІј рѕхрѕІрѕЇрѕєріљ рѕўрІ░рѕѕрЅх ріарІГрЅйрѕЅрѕЮрЇб");
                 return;
            }

            const initialLength = posts.length;
            
            posts = posts.filter(post => post.id !== id);
            
            if (posts.length < initialLength) {
                localStorage.setItem(`fasil_posts_${type}`, JSON.stringify(posts));
                alert("РюЁ рЇІрІГрѕЅ рЅарЅ░рѕ│ріФ рѕЂріћрЅ│ рЅ░рІ░рѕЇрЅирѕЇрЇб");
                renderDeletePosts(type); 
            } else {
                alert("Рџа№ИЈ рЅйрїЇрѕГ: рЇІрІГрѕЅріЋ рѕЏрїЇріўрЅх ріарѕЇрЅ░рЅ╗рѕѕрѕЮрЇб");
            }
        }

        // --- рѕїрѕјрЅй Handlers ---

        function handleFeedback(type) {
            alert(`РГљ рѕђрѕ│рЅЦрІјріЋ рЅа ${type} рѕўрѕЇріГ рѕѕрѕўрЅЁрІ│рЅх / рѕѕрѕўрЇЃрЇЇ рІерѕџрІФрѕхрЅйрѕЇ рЅЁрїй рІГріерЇѕрЅх ріљрЅарѕГрЇб`);
        }

        function handleFeedbackView(type) {
            alert(`­ЪЉђ рЅа ${type} рѕўрѕЇріГ рІерЅ░рѕ░рїА ріарѕхрЅ░рІФрІерЅХрЅйріЋ ріе Backend рЅарѕўрїјрЅ░рЅх рІерѕЏрѕ│рІФ рїѕрїй рІГріерЇѕрЅх ріљрЅарѕГрЇб`);
        }


        // --- рїѕрїйрЅ│ рЅЂрїЦрїЦрѕГ (View Controller) ---
        function updateView() {
            const sections = document.querySelectorAll('.section');
            const hash = window.location.hash.substring(1) || 'home-view';
            const userPhone = getCurrentUserPhone();
            const userTier = getCurrentUserTier();

            sections.forEach(element => {
                 element.style.display = (element.id === hash) ? 'block' : 'none';
            });

            if (hash !== 'home-view' && hash !== 'signup-form' && hash !== 'login-form' && hash !== 'pricing' && !userPhone) {
                 if (hash === 'privacy-policy' || hash === 'policy-disagree') {
                     // рЇќрѕірѕ▓рІЇріЋ ріерЅ░рѕўрІўрїѕрЅА рЅаріІрѕІ рЅЦрЅ╗ ріЦріЋрІ▓рІФрІЕ рЇЇрЅђрІх
                 } else {
                     alert("­Ъћ┤ ріЦрЅБріГрІј рѕѕрѕўрЅђрїарѕЇ рІГрїЇрЅА!");
                     window.location.hash = '#login-form';
                     return;
                 }
            }
            
            const imageNotice = document.getElementById('image-quality-notice');
            if (imageNotice) {
                 imageNotice.textContent = (userTier === 'premium') ? 
                     "РюЁ Premium: рѕЮрѕхрѕЅ рЅаріерЇЇрЅ░ріЏ рїЦрѕФрЅх ріЦріЊ AI рѕЏрѕ╗рѕ╗рІФ рІГрѕѕрїарЇІрѕЇрЇб" : 
                     "Рџа№ИЈ Free: рѕЮрѕхрѕЅ рЅарІЮрЅЁрЅ░ріЏ рїЦрѕФрЅх рІГрѕѕрїарЇІрѕЇрЇб рѕѕріерЇЇрЅ░ріЏ рїЦрѕФрЅх рІе Premium ріарїѕрѕЇрїЇрѕјрЅх рІФрѕхрЇѕрѕЇрїІрѕЇрЇб";
            }


            if (hash === 'view-text') {
                renderPosts('text');
            } else if (hash === 'view-image') {
                renderPosts('image');
            } else if (hash === 'view-audio') {
                renderPosts('audio');
            } else if (hash === 'delete-file-view') {
                renderDeletePosts(deleteFileType);
            }
        }

        window.addEventListener('hashchange', updateView);
        window.addEventListener('DOMContentLoaded', updateView); 
    </script>
</body>
</html>
