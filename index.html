ፓፓያUooe<!DOCTYPE html>
<html lang="am">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ፋሲል ዌብ አፕ - Fasil Web App (Final Fixed)</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* --- General CSS --- */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            text-align: center; padding: 0; margin: 0;
            background-color: #f0f4f8; color: #333;
            padding-bottom: 90px;
        }
        .container { max-width: 700px; margin: 0 auto; padding: 5px; }
        
        /* Header */
        .top-header {
            display: flex; justify-content: space-between; align-items: center;
            background: #fff; padding: 5px 10px; border-bottom: 3px solid #007bff;
        }
        .header-icon-img { width: 45px; height: 45px; border-radius: 50%; object-fit: cover; object-position: top; border: 2px solid #ccc; }
        .marquee-container-top { flex: 1; overflow: hidden; white-space: nowrap; margin: 0 10px; }
        .marquee-text-top { display: inline-block; padding-left: 100%; animation: marquee 15s linear infinite; color: #007bff; font-weight: bold; font-size: 16px; }
        
        /* Footer */
        .footer-wrapper { position: fixed; bottom: 0; left: 0; width: 100%; z-index: 1000; background: white; box-shadow: 0 -2px 10px rgba(0,0,0,0.1); }
        .bottom-nav { display: flex; height: 55px; width: 100%; }
        .nav-btn { flex: 1; border: none; font-weight: bold; font-size: 14px; cursor: pointer; display: flex; flex-direction: column; align-items: center; justify-content: center; color: white; }
        .nav-home { background-color: #28a745; } .nav-live { background-color: #ffc107; color: black; } .nav-profile { background-color: #dc3545; }
        .bottom-marquee { background: #f0f0f0; color: #28a745; font-weight: bold; overflow: hidden; white-space: nowrap; height: 25px; line-height: 25px; font-size: 12px; }
        .bottom-marquee span { display: inline-block; padding-left: 100%; animation: marquee 12s linear infinite; }
        @keyframes marquee { 0% { transform: translateX(0); } 100% { transform: translateX(-100%); } }

        /* Sections */
        .section { display: none; background: white; padding: 15px; border-radius: 8px; margin-top: 10px; min-height: 400px; }
        .show { display: block; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity:0; } to { opacity:1; } }

        /* Welcome Split */
        .split-container { display: flex; justify-content: space-between; gap: 5px; text-align: left; }
        .split-left { width: 48%; color: #007bff; font-size: 11px; line-height: 1.3; }
        .split-right { width: 48%; color: #d35400; font-size: 11px; font-weight: bold; line-height: 1.3; border-left: 1px solid #ccc; padding-left: 5px; }
        .blue-spacer { height: 20px; background-color: #007bff; margin: 10px 0; border-radius: 5px; }

        /* Images */
        .lion-full-img { width: 100%; height: auto; max-height: 200px; object-fit: contain; margin-top: 10px; border-radius: 8px; }
        .eagle-dash-img { width: 50px; height: 50px; object-fit: cover; border-radius: 50%; vertical-align: middle; margin-right: 10px; }

        /* Dashboard Split */
        .dash-layout { display: flex; gap: 10px; align-items: flex-start; }
        .dash-left { width: 60%; text-align: left; } .dash-right { width: 40%; }
        
        /* UI Elements */
        input, select, textarea { width: 100%; padding: 10px; margin: 5px 0; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box; }
        button { width: 100%; padding: 12px; margin: 5px 0; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; color: white; }
        .btn-green { background: #28a745; } .btn-red { background: #dc3545; } .btn-blue { background: #007bff; } .btn-yellow { background: #ffc107; color: black; }
        .btn-small { padding: 8px; font-size: 12px; margin: 2px 0; }
        .btn-admin { background: #333; color: white; display: none; }
        .lang-btn { background: #6c757d; color: white; padding: 4px 8px; font-size: 10px; border-radius: 4px; border:none; cursor: pointer; margin-top: 2px;}
        
        /* Modified Buttons for Business (Smaller & Lower) */
        .btn-compact { padding: 8px; margin: 2px 0; font-size: 14px; margin-top: 15px; }

        /* Modals */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); display: none; justify-content: center; align-items: center; z-index: 2000; }
        .modal-box { background: white; padding: 20px; width: 85%; border-radius: 10px; text-align: center; max-height: 80vh; overflow-y: auto; }

        /* Post Card */
        .post-card { border: 1px solid #eee; background: #fff; border-radius: 8px; padding: 15px; margin-bottom: 15px; text-align: left; }
        .post-header { display: flex; align-items: center; margin-bottom: 10px; border-bottom: 1px solid #f0f0f0; padding-bottom: 5px; }
        .post-header img { width: 35px; height: 35px; border-radius: 50%; margin-right: 10px; object-fit: cover; }
        .post-actions { display: flex; justify-content: space-between; margin-top: 10px; padding-top: 10px; border-top: 1px solid #eee; flex-wrap: wrap; }
        .action-icon { background: none; border: none; color: #007bff; font-size: 12px; cursor: pointer; padding: 5px; margin: 0; width: auto; display: inline-flex; align-items: center; gap: 3px; }
        
        .user-item { display: flex; align-items: center; padding: 10px; border-bottom: 1px solid #eee; }
        .user-item img { width: 40px; height: 40px; border-radius: 50%; margin-right: 10px; object-fit: cover; }
        .user-item.bright-blue { background-color: #007bff; color: white; border-radius: 5px; }
        
        #live-video-element { width: 100%; height: 350px; background: #000; border-radius: 8px; object-fit: cover; }
        .hidden-input { display: none; }
        .hidden { display: none; }
    </style>
</head>
<body>

    <div class="top-header">
        <img src="eagle_image.jpg" class="header-icon-img" alt="Eagle">
        <div class="marquee-container-top"><span class="marquee-text-top" id="head-txt">እንኳን ወደ ፋሲል ዌብ አፕ የአገልግሎት ማዕከል በደህና መጡ!</span></div>
        <div style="text-align: right; display: flex; flex-direction: column; align-items: center;">
            <img src="lion_image.jpg" class="header-icon-img" alt="Lion">
            <button class="lang-btn" onclick="toggleLanguage()" id="lang-btn-txt">Language</button>
        </div>
    </div>

    <div class="container">

        <div class="modal-overlay" id="custom-modal"><div class="modal-box"><h3 id="modal-title"></h3><p id="modal-msg"></p><button class="btn-blue" onclick="closeModal()">OK</button></div></div>
        
        <div class="modal-overlay" id="pass-modal"><div class="modal-box"><h3 id="pass-title">Password Required </h3><input type="password" id="pass-input" placeholder="Password" style="text-align:center;"><button class="btn-green" onclick="verifyPass()">Confirm</button><button class="btn-red" onclick="document.getElementById('pass-modal').style.display='none'">Cancel</button></div></div>
        
        <div class="modal-overlay" id="comment-type-modal"><div class="modal-box"><h3 id="t-com-act">Action</h3>
            <button class="btn-blue" onclick="openComSub('give')">Give Comment</button>
            <button class="btn-blue" onclick="openComSub('view')">View Comments</button>
            <button class="btn-red" onclick="document.getElementById('comment-type-modal').style.display='none'">Cancel</button>
        </div></div>

        <div class="modal-overlay" id="comment-media-modal"><div class="modal-box"><h3 id="t-com-media">Select Type</h3>
            <button class="btn-blue" onclick="processComment('text')">Text</button>
            <button class="btn-blue" onclick="processComment('image')">Image</button>
            <button class="btn-blue" onclick="processComment('video')">Video</button>
            <button class="btn-blue" onclick="processComment('audio')">Voice</button>
            <button class="btn-red" onclick="document.getElementById('comment-media-modal').style.display='none'">Cancel</button>
        </div></div>

        <div class="modal-overlay" id="view-comments-list-modal"><div class="modal-box"><h3>Comments</h3><div id="comments-display-area" style="text-align:left; max-height:300px; overflow-y:auto;"></div><button class="btn-red" onclick="document.getElementById('view-comments-list-modal').style.display='none'">Close</button></div></div>

        <div class="modal-overlay" id="share-modal"><div class="modal-box"><h3>Share To</h3>
            <button class="btn-blue" onclick="shareTo('telegram')">Telegram</button>
            <button class="btn-blue" onclick="shareTo('facebook')">Facebook</button>
            <button class="btn-blue" onclick="shareTo('tiktok')">TikTok</button>
            <button class="btn-blue" onclick="shareTo('youtube')">YouTube</button>
            <button class="btn-red" onclick="closeShare()">Close</button>
        </div></div>

        <div class="modal-overlay" id="admin-login-modal"><div class="modal-box"><h3>Admin Login</h3><input type="password" id="admin-pass-in" placeholder="Code (abc123456abd)"><button class="btn-green" onclick="adminLogin()">Enter</button><button class="btn-red" onclick="document.getElementById('admin-login-modal').style.display='none'">Cancel</button></div></div>

        <div id="view-agreement" class="section show">
            <div id="welcome-content">
                <div class="split-container">
                    <div class="split-left">
                        <h4 id="t-w-s">እንኳን ደህና መጡ</h4>
                        <p id="t-in">ይህ የፋሲል ዌብ አፕ በተአማኒነት እንዲሰራ የተቀየሰ ዲጂታል መረጃ መጋሪያ ነው። ሁሌም ትክክለኛ መረጃዎችን ያቀርባል። እውነተኛ መረጃወችን መመልከት እና መጋራት ይችላሉ በተጨማሪም ሌሎች የፓወር ፖይንት የቢዝነስ እና ፒዲኤፍ አገልግሎቶችን ያገኛሉ እናመሰግናለን።</p>
                    </div>
                    <div class="split-right">
                        <h4 id="t-p-s">ጥብቅ መመሪያ</h4>
                        <p id="t-po">ፖለቲካ፣ ጥላቻ፣ ዘረኝነት እና ሀሰተኛ መረጃ ማቅረብ በጥብቅ የተከለከለ ነው። ፖሊሲያችን ጥሰው ከተገኙ በጥብቅ የሲስተም ቁጥጥራችን እና በጥብቅ ሲስተማችን በራስ ሰር ከአገልግሎታችን ሲስተም ሊያግድወት ይችላል።</p>
                    </div>
                </div>
                <div style="display: flex; gap: 10px; margin-top: 10px;">
                    <button class="btn-green btn-small" onclick="handleAgree()" id="btn-agree">እስማማለሁ</button>
                    <button class="btn-red btn-small" onclick="showAlert('አልተስማሙም', 'error')" id="btn-disagree">አልስማማም</button>
                </div>
                <div class="blue-spacer"></div>
            </div>
            <div id="auth-section" style="display:none;">
                <p style="color: green; font-weight: bold; font-size: 14px;" id="t-thx">አገልግሎታችንን ስለመረጡ እናመሰግናለን! አዲስ ከሆኑ ይመዝገቡ፣ ካለዎት ይግቡ።</p>
                <div style="display:flex; gap:10px;"><button class="btn-red" onclick="showAuth('signup')" id="btn-sh-s">መመዝገቢያ</button><button class="btn-red" onclick="showAuth('login')" id="btn-sh-l">መግቢያ</button></div>
                
                <div id="form-signup" style="display:none; margin-top:10px; border: 1px solid #dc3545; padding: 10px; border-radius: 5px;">
                    <div id="signup-step-1">
                        <h3 style="color:#dc3545;" id="h-s">ምዝገባ</h3>
                        <input type="text" id="reg-name" placeholder="Full Name">
                        <input type="text" id="reg-phone" placeholder="Phone (09... 10 digits)">
                        <input type="email" id="reg-email" placeholder="Email (@gmail.com only)">
                        <input type="password" id="reg-pass" placeholder="Password (6 digits)">
                        <button class="btn-green" onclick="preSignup()">Submit</button>
                    </div>
                    <div id="signup-step-2" style="display:none;">
                        <h3>Upload Profile Photo</h3>
                        <button class="btn-blue" onclick="promptUpload('profile')">Upload Photo</button>
                        <input type="file" id="file-profile" class="hidden-input" accept="image/*">
                        <button class="btn-green" onclick="finalSignup()">Complete Registration</button>
                    </div>
                </div>

                <div id="form-login" style="display:none; margin-top:10px; border: 1px solid #dc3545; padding: 10px; border-radius: 5px;">
                    <h3 style="color:#dc3545;" id="h-l">መግቢያ</h3>
                    <input type="text" id="log-phone" placeholder="Phone">
                    <input type="password" id="log-pass" placeholder="Password">
                    <button class="btn-blue" onclick="doLogin()">Login</button>
                </div>
                <div><img src="lion_image.jpg" class="lion-full-img"></div>
            </div>
        </div>

        <div id="view-dashboard" class="section">
            <div class="dash-layout">
                <div class="dash-left">
                    <h4 id="t-g">ሰላምታ, <span id="user-display-name">Guest</span>!</h4>
                    <p id="t-wl">እንኳን ወደ ዋናው ማዕከል በደህና መጡ። እውነተኛ መረጃዎችን ይመልከቱ።</p>
                    <div style="border: 1px solid #ccc; padding: 10px; border-radius: 5px; margin-top: 10px;">
                        <span id="t-st" style="display: block; font-weight: bold; margin-bottom: 5px;">የተጠቃሚ ስታተስ:</span>
                        <div id="status-container" style="color: red; font-weight: bold;">Offline</div>
                    </div>
                    <button class="btn-admin" id="admin-panel-btn" onclick="showAdminModal()">Admin Panel</button>
                </div>
                <div class="dash-right">
                    <img src="eagle_image.jpg" class="eagle-dash-img" alt="User Image" id="user-display-img">
                </div>
            </div>
            
            <div class="blue-spacer"></div>

            <div id="dashboard-options">
                <button class="btn-green btn-compact" onclick="showSection('view-post')" id="btn-v-post"><i class="fas fa-eye"></i> View Posts</button>
                <button class="btn-blue btn-compact" onclick="showSection('view-business')" id="btn-v-biz"><i class="fas fa-chart-line"></i> Business/PPT</button>
                <button class="btn-yellow btn-compact" onclick="showSection('view-chat')" id="btn-v-chat"><i class="fas fa-comments"></i> Chat Room</button>
                <button class="btn-red btn-compact" onclick="showSection('view-info')" id="btn-v-info"><i class="fas fa-info-circle"></i> Info</button>
            </div>
        </div>

        <div id="view-post" class="section">
            <h3 id="t-posts">የመረጃ ልጥፎች (Posts)</h3>
            <p id="t-post-in">ትክክለኛ እና ወቅታዊ መረጃዎችን ከታች ያግኙ።</p>
            <button class="btn-blue btn-small" onclick="showSection('view-dashboard')"><i class="fas fa-arrow-left"></i> Back</button>
            
            <div class="blue-spacer"></div>

            <div id="create-post-area" style="display: none; border: 1px dashed #007bff; padding: 10px; margin-bottom: 20px; border-radius: 5px;">
                <h4 id="t-c-p">Create New Post</h4>
                <textarea id="post-content" placeholder="Post text content..."></textarea>
                <input type="text" id="post-source" placeholder="Source/Topic (e.g., Finance)">
                <button class="btn-blue btn-small" onclick="promptUpload('post')">Upload Image/Video</button>
                <input type="file" id="file-post" class="hidden-input" accept="image/*,video/*">
                <button class="btn-green btn-small" onclick="submitPost()">Submit Post</button>
            </div>

            <div id="posts-display-area">
                <div class="post-card" data-post-id="1">
                    <div class="post-header">
                        <img src="profile_admin.jpg" alt="Admin" />
                        <div><strong>Admin User</strong><br><small style="color:#007bff;">Finance Section</small></div>
                    </div>
                    <p>ፋይናንስን የሚመለከት ጠቃሚ መረጃ። የባንክ ቁጠባዎችዎን እንዴት ማሳደግ እንደሚችሉ! #Finance #Ethiopia</p>
                    <div class="post-actions">
                        <button class="action-icon" onclick="openCommentModal(1)"><i class="fas fa-comment"></i> <span id="comment-count-1">12</span></button>
                        <button class="action-icon" onclick="openShareModal(1)"><i class="fas fa-share"></i> Share</button>
                        <button class="action-icon" onclick="likePost(1)"><i class="fas fa-thumbs-up"></i> <span id="like-count-1">250</span></button>
                        <button class="action-icon" onclick="reportPost(1)"><i class="fas fa-flag"></i> Report</button>
                    </div>
                </div>
                
                <div class="post-card" data-post-id="2">
                    <div class="post-header">
                        <img src="profile_user_b.jpg" alt="Fasil User" />
                        <div><strong>Fasil App User</strong><br><small style="color:#d35400;">Tech News</small></div>
                    </div>
                    <p>የመጪው የ5G ቴክኖሎጂ በኢትዮጵያ ኢኮኖሚ ላይ ሊኖረው ስለሚችለው ተጽዕኖ የተዘጋጀ አጭር ዘገባ።</p>
                    <div class="post-actions">
                        <button class="action-icon" onclick="openCommentModal(2)"><i class="fas fa-comment"></i> <span id="comment-count-2">5</span></button>
                        <button class="action-icon" onclick="openShareModal(2)"><i class="fas fa-share"></i> Share</button>
                        <button class="action-icon" onclick="likePost(2)"><i class="fas fa-thumbs-up"></i> <span id="like-count-2">103</span></button>
                        <button class="action-icon" onclick="reportPost(2)"><i class="fas fa-flag"></i> Report</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="view-business" class="section">
            <h3 id="t-biz">Business & PPT Docs</h3>
            <p id="t-biz-in">ለስራዎ ወይም ለትምህርትዎ የሚያስፈልጉ የፓወር ፖይንት እና ፒዲኤፍ ሰነዶችን ያግኙ።</p>
            <button class="btn-blue btn-small" onclick="showSection('view-dashboard')"><i class="fas fa-arrow-left"></i> Back</button>
            <div class="blue-spacer"></div>

            <div style="display: flex; gap: 10px;">
                <button class="btn-green btn-compact" onclick="openDocument('powerpoint')" id="btn-ppt"><i class="fas fa-file-powerpoint"></i> PPT Documents</button>
                <button class="btn-red btn-compact" onclick="openDocument('pdf')" id="btn-pdf"><i class="fas fa-file-pdf"></i> PDF Documents</button>
            </div>
            
            <div id="biz-upload-area" style="display: none; border: 1px dashed #28a745; padding: 10px; margin-top: 20px; border-radius: 5px;">
                <h4 id="t-biz-up">Upload Document (Admin)</h4>
                <input type="text" id="doc-title" placeholder="Document Title">
                <select id="doc-type">
                    <option value="ppt">PowerPoint (PPT/PPTX)</option>
                    <option value="pdf">PDF</option>
                </select>
                <button class="btn-blue btn-small" onclick="promptUpload('doc')">Upload File</button>
                <input type="file" id="file-doc" class="hidden-input" accept=".ppt,.pptx,.pdf">
                <button class="btn-green btn-small" onclick="submitDocument()">Submit Document</button>
            </div>

            <div id="docs-list-area" style="margin-top: 20px; text-align: left;">
                <div class="user-item" style="background-color: #f0f0ff;">
                    <i class="fas fa-file-pdf" style="font-size: 24px; color: #dc3545; margin-right: 10px;"></i>
                    <div>
                        <strong>Business Plan Template (PDF)</strong><br>
                        <small>Size: 1.2 MB | <a href="#" onclick="downloadDoc('pdf1')">Download</a></small>
                    </div>
                </div>
                <div class="user-item" style="background-color: #f0f0ff;">
                    <i class="fas fa-file-powerpoint" style="font-size: 24px; color: #ffc107; margin-right: 10px;"></i>
                    <div>
                        <strong>Marketing Strategy PPT</strong><br>
                        <small>Size: 3.5 MB | <a href="#" onclick="downloadDoc('ppt1')">Download</a></small>
                    </div>
                </div>
            </div>
        </div>

        <div id="view-chat" class="section">
            <h3 id="t-chat-h">Chat Room</h3>
            <p id="t-chat-in">በዚህ ክፍል ከሌሎች ተጠቃሚዎች ጋር መወያየት ይችላሉ።</p>
            <button class="btn-blue btn-small" onclick="showSection('view-dashboard')"><i class="fas fa-arrow-left"></i> Back</button>
            <div class="blue-spacer"></div>

            <div id="chat-display-area" style="height: 300px; border: 1px solid #ccc; overflow-y: scroll; padding: 10px; text-align: left; background: #fafafa; border-radius: 5px;">
                <div style="margin-bottom: 10px;">
                    <strong style="color: #007bff;">Admin:</strong> <small style="color: #666;">(09:30 AM)</small><br>
                    እንኳን ደህና መጡ! ማንኛውንም ሀሳብ መለዋወጥ ይችላሉ።
                </div>
                <div style="margin-bottom: 10px; text-align: right;">
                    <strong style="color: #28a745;">Fasil User:</strong> <small style="color: #666;">(09:31 AM)</small><br>
                    ሰላም፣ የፋይናንስ መረጃዎቹ በጣም ጠቃሚ ናቸው!
                </div>
            </div>
            
            <input type="text" id="chat-input" placeholder="Enter your message...">
            <button class="btn-green" onclick="sendMessage()">Send</button>
        </div>

        <div id="view-live" class="section">
            <h3 id="t-live-h">Live Video Stream</h3>
            <p id="t-live-in">ቀጥታ ስርጭቶችን እዚህ ይመልከቱ።</p>
            <button class="btn-blue btn-small" onclick="showSection('view-dashboard')"><i class="fas fa-arrow-left"></i> Back</button>
            <div class="blue-spacer"></div>

            <div id="live-area">
                <video id="live-video-element" controls poster="live_placeholder.jpg">
                    <source src="live_stream.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
                <div style="margin-top: 10px; font-weight: bold; color: #dc3545;" id="t-live-status">LIVE: Current Topic Discussion</div>
            </div>
        </div>
        
        <div id="view-profile" class="section">
            <h3 id="t-prof-h">Profile Settings</h3>
            <p id="t-prof-in">የእርስዎን መረጃ ማስተካከል እና አካውንትዎን ማስተዳደር ይችላሉ።</p>
            
            <div class="blue-spacer"></div>
            
            <img src="eagle_image.jpg" class="eagle-dash-img" alt="User Image" id="prof-display-img" style="width: 80px; height: 80px; margin-bottom: 15px;">
            
            <div style="text-align: left;">
                <label for="prof-name">Full Name:</label>
                <input type="text" id="prof-name" disabled>
                
                <label for="prof-phone">Phone:</label>
                <input type="text" id="prof-phone" disabled>
                
                <label for="prof-email">Email:</label>
                <input type="email" id="prof-email" disabled>

                <button class="btn-yellow" onclick="showChangePasswordModal()" id="btn-chg-p">Change Password</button>
                <button class="btn-red" onclick="doLogout()" id="btn-logout">Logout</button>
            </div>
        </div>

        <div id="view-info" class="section">
            <h3 id="t-info-h">Information & Support</h3>
            <p id="t-info-in">ስለ አፑ መረጃ እና የሚደገፉ ቴክኖሎጂዎች።</p>
            <button class="btn-blue btn-small" onclick="showSection('view-dashboard')"><i class="fas fa-arrow-left"></i> Back</button>
            <div class="blue-spacer"></div>

            <div style="text-align: left;">
                <h4 id="t-tech-h">Supported Technologies</h4>
                <ul id="t-tech-list">
                    <li>HTML5, CSS3, JavaScript</li>
                    <li>FontAwesome Icons</li>
                    <li>Mobile Responsive Design</li>
                </ul>
                
                <h4 id="t-sup-h">Support</h4>
                <p id="t-sup-in">ለማንኛውም እገዛ ወይም አስተያየት፣ በስልክ ቁጥራችን (09-XX-XX-XX-XX) ወይም በኢሜል (info@fasilapp.et) ሊያገኙን ይችላሉ።</p>
            </div>
        </div>


    </div>

    <div class="footer-wrapper">
        <div class="bottom-marquee">
            <span id="bottom-marquee-txt">Welcome to Fasil Web App | Contact: 09-XX-XX-XX-XX | For Business and Accurate Information</span>
        </div>
        <div class="bottom-nav">
            <button class="nav-btn nav-home" onclick="showSection('view-dashboard')">
                <i class="fas fa-home"></i> <span id="btn-f-h">Home</span>
            </button>
            <button class="nav-btn nav-live" onclick="showSection('view-live')">
                <i class="fas fa-video"></i> <span id="btn-f-l">Live</span>
            </button>
            <button class="nav-btn nav-profile" onclick="showSection('view-profile')">
                <i class="fas fa-user"></i> <span id="btn-f-p">Profile</span>
            </button>
        </div>
    </div>


    <script>
        // --- Core Data Simulation ---
        let currentLang = 'am'; // Default language is Amharic (am)
        let isLoggedIn = false;
        let isAdmin = false;
        let loggedInUser = null; 
        
        // Dummy Data for simulation
        const users = [
            { phone: '0911223344', pass: '123456', name: 'Fasil App User', email: 'fasil@app.com', isAdmin: false, image: 'profile_user_b.jpg' },
            { phone: '0900000000', pass: '111111', name: 'Admin User', email: 'admin@app.com', isAdmin: true, image: 'profile_admin.jpg' }
        ];

        let postsData = [
            { id: 1, comments: ['Great info!', 'Thanks for sharing'], likes: 250, shares: 10, reports: 0 },
            { id: 2, comments: ['Very informative', 'Looking forward to 5G'], likes: 103, shares: 5, reports: 0 }
        ];

        const translations = {
            'am': {
                'head-txt': 'እንኳን ወደ ፋሲል ዌብ አፕ የአገልግሎት ማዕከል በደህና መጡ!',
                'lang-btn-txt': 'Language',
                't-w-s': 'እንኳን ደህና መጡ',
                't-in': 'ይህ የፋሲል ዌብ አፕ በተአማኒነት እንዲሰራ የተቀየሰ ዲጂታል መረጃ መጋሪያ ነው። ሁሌም ትክክለኛ መረጃዎችን ያቀርባል። እውነተኛ መረጃወችን መመልከት እና መጋራት ይችላሉ በተጨማሪም ሌሎች የፓወር ፖይንት የቢዝነስ እና ፒዲኤፍ አገልግሎቶችን ያገኛሉ እናመሰግናለን።',
                't-p-s': 'ጥብቅ መመሪያ',
                't-po': 'ፖለቲካ፣ ጥላቻ፣ ዘረኝነት እና ሀሰተኛ መረጃ ማቅረብ በጥብቅ የተከለከለ ነው። ፖሊሲያችን ጥሰው ከተገኙ በጥብቅ የሲስተም ቁጥጥራችን እና በጥብቅ ሲስተማችን በራስ ሰር ከአገልግሎታችን ሲስተም ሊያግድወት ይችላል።',
                'btn-agree': 'እስማማለሁ',
                'btn-disagree': 'አልስማማም',
                't-thx': 'አገልግሎታችንን ስለመረጡ እናመሰግናለን! አዲስ ከሆኑ ይመዝገቡ፣ ካለዎት ይግቡ።',
                'btn-sh-s': 'መመዝገቢያ',
                'btn-sh-l': 'መግቢያ',
                'h-s': 'ምዝገባ',
                'h-l': 'መግቢያ',
                't-g': 'ሰላምታ',
                't-wl': 'እንኳን ወደ ዋናው ማዕከል በደህና መጡ። እውነተኛ መረጃዎችን ይመልከቱ።',
                't-st': 'የተጠቃሚ ስታተስ:',
                'btn-v-post': 'View Posts',
                'btn-v-biz': 'Business/PPT',
                'btn-v-chat': 'Chat Room',
                'btn-v-info': 'Info',
                't-posts': 'የመረጃ ልጥፎች (Posts)',
                't-post-in': 'ትክክለኛ እና ወቅታዊ መረጃዎችን ከታች ያግኙ።',
                't-c-p': 'Create New Post',
                'btn-ppt': 'PPT Documents',
                'btn-pdf': 'PDF Documents',
                't-biz': 'Business & PPT Docs',
                't-biz-in': 'ለስራዎ ወይም ለትምህርትዎ የሚያስፈልጉ የፓወር ፖይንት እና ፒዲኤፍ ሰነዶችን ያግኙ።',
                't-biz-up': 'Upload Document (Admin)',
                't-chat-h': 'Chat Room',
                't-chat-in': 'በዚህ ክፍል ከሌሎች ተጠቃሚዎች ጋር መወያየት ይችላሉ።',
                't-live-h': 'Live Video Stream',
                't-live-in': 'ቀጥታ ስርጭቶችን እዚህ ይመልከቱ።',
                't-live-status': 'LIVE: Current Topic Discussion',
                't-prof-h': 'Profile Settings',
                't-prof-in': 'የእርስዎን መረጃ ማስተካከል እና አካውንትዎን ማስተዳደር ይችላሉ።',
                'btn-chg-p': 'Change Password',
                'btn-logout': 'Logout',
                't-info-h': 'Information & Support',
                't-info-in': 'ስለ አፑ መረጃ እና የሚደገፉ ቴክኖሎጂዎች።',
                't-tech-h': 'Supported Technologies',
                't-tech-list': `<li>HTML5, CSS3, JavaScript</li><li>FontAwesome Icons</li><li>Mobile Responsive Design</li>`,
                't-sup-h': 'Support',
                't-sup-in': 'ለማንኛውም እገዛ ወይም አስተያየት፣ በስልክ ቁጥራችን (09-XX-XX-XX-XX) ወይም በኢሜል (info@fasilapp.et) ሊያገኙን ይችላሉ።',
                'bottom-marquee-txt': 'Welcome to Fasil Web App | Contact: 09-XX-XX-XX-XX | For Business and Accurate Information',
                'btn-f-h': 'Home',
                'btn-f-l': 'Live',
                'btn-f-p': 'Profile',
                't-com-act': 'Action',
                't-com-media': 'Select Type'
            },
            'en': {
                'head-txt': 'Welcome to Fasil Web App Service Center!',
                'lang-btn-txt': 'አማርኛ',
                't-w-s': 'Welcome',
                't-in': 'This Fasil Web App is a reliable digital information sharing service. It always provides accurate information. You can view and share genuine information, plus access other PowerPoint, business, and PDF services. Thank you.',
                't-p-s': 'Strict Policy',
                't-po': 'Politics, hate speech, racism, and false information are strictly prohibited. If found violating our policy, our strict system control may automatically ban you from our service system.',
                'btn-agree': 'I Agree',
                'btn-disagree': 'I Disagree',
                't-thx': 'Thank you for choosing our service! If you are new, sign up; if you have an account, log in.',
                'btn-sh-s': 'Sign Up',
                'btn-sh-l': 'Login',
                'h-s': 'Sign Up',
                'h-l': 'Login',
                't-g': 'Greeting',
                't-wl': 'Welcome to the main center. View genuine information.',
                't-st': 'User Status:',
                'btn-v-post': 'View Posts',
                'btn-v-biz': 'Business/PPT',
                'btn-v-chat': 'Chat Room',
                'btn-v-info': 'Info',
                't-posts': 'Information Posts',
                't-post-in': 'Find accurate and timely information below.',
                't-c-p': 'Create New Post',
                'btn-ppt': 'PPT Documents',
                'btn-pdf': 'PDF Documents',
                't-biz': 'Business & PPT Docs',
                't-biz-in': 'Find PowerPoint and PDF documents needed for your work or education.',
                't-biz-up': 'Upload Document (Admin)',
                't-chat-h': 'Chat Room',
                't-chat-in': 'You can chat with other users in this section.',
                't-live-h': 'Live Video Stream',
                't-live-in': 'Watch live streams here.',
                't-live-status': 'LIVE: Current Topic Discussion',
                't-prof-h': 'Profile Settings',
                't-prof-in': 'You can edit your information and manage your account.',
                'btn-chg-p': 'Change Password',
                'btn-logout': 'Logout',
                't-info-h': 'Information & Support',
                't-info-in': 'Information about the app and supported technologies.',
                't-tech-h': 'Supported Technologies',
                't-tech-list': `<li>HTML5, CSS3, JavaScript</li><li>FontAwesome Icons</li><li>Mobile Responsive Design</li>`,
                't-sup-h': 'Support',
                't-sup-in': 'For any help or feedback, you can reach us on our phone number (09-XX-XX-XX-XX) or email (info@fasilapp.et).',
                'bottom-marquee-txt': 'Welcome to Fasil Web App | Contact: 09-XX-XX-XX-XX | For Business and Accurate Information',
                'btn-f-h': 'Home',
                'btn-f-l': 'Live',
                'btn-f-p': 'Profile',
                't-com-act': 'Action',
                't-com-media': 'Select Type'
            }
        };


        // --- Utility Functions ---

        function showAlert(title, message, type = 'info') {
            document.getElementById('modal-title').innerText = title;
            document.getElementById('modal-msg').innerText = message;
            document.getElementById('custom-modal').style.display = 'flex';
        }
        function closeModal() {
            document.getElementById('custom-modal').style.display = 'none';
        }

        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('show');
            });
            document.getElementById(sectionId).classList.add('show');
            // Hide admin area when changing section
            if (sectionId !== 'view-post' && isAdmin) {
                document.getElementById('create-post-area').style.display = 'none';
                document.getElementById('biz-upload-area').style.display = 'none';
            }
        }

        function toggleLanguage() {
            currentLang = currentLang === 'am' ? 'en' : 'am';
            const dict = translations[currentLang];
            
            // Toggle language button text
            document.getElementById('lang-btn-txt').innerText = currentLang === 'am' ? 'Language' : 'አማርኛ';

            // Apply translations to all elements with id starting with 't-' or 'btn-' or 'h-'
            for (const key in dict) {
                const element = document.getElementById(key);
                if (element) {
                    if (key === 't-tech-list') {
                        element.innerHTML = dict[key];
                    } else {
                        element.innerText = dict[key];
                    }
                }
            }
        }
        
        // --- Agreement and Auth ---

        function handleAgree() {
            document.getElementById('welcome-content').style.display = 'none';
            document.getElementById('auth-section').style.display = 'block';
            showAlert('Agreement Confirmed', 'You have accepted the terms. Please proceed to login or sign up.');
        }

        function showAuth(type) {
            document.getElementById('form-signup').style.display = 'none';
            document.getElementById('form-login').style.display = 'none';
            if (type === 'signup') {
                document.getElementById('form-signup').style.display = 'block';
            } else {
                document.getElementById('form-login').style.display = 'block';
            }
        }

        function preSignup() {
            const name = document.getElementById('reg-name').value;
            const phone = document.getElementById('reg-phone').value;
            const email = document.getElementById('reg-email').value;
            const pass = document.getElementById('reg-pass').value;

            if (name && phone.length === 10 && phone.startsWith('09') && email.endsWith('@gmail.com') && pass.length === 6) {
                // Check if user exists (simulation)
                if (users.find(u => u.phone === phone)) {
                    showAlert('Error', 'Phone number already registered.');
                    return;
                }
                
                // Store temp data and move to step 2 (upload)
                localStorage.setItem('temp_reg_data', JSON.stringify({ name, phone, email, pass }));
                document.getElementById('signup-step-1').style.display = 'none';
                document.getElementById('signup-step-2').style.display = 'block';
            } else {
                showAlert('Error', 'Please check your inputs (Name, Phone 09..., Gmail, Password 6 digits).');
            }
        }

        function finalSignup() {
            const regData = JSON.parse(localStorage.getItem('temp_reg_data'));
            const profileFile = document.getElementById('file-profile').files[0];
            
            if (!regData) {
                showAlert('Error', 'Registration data missing. Start over.');
                return;
            }
            if (!profileFile) {
                showAlert('Error', 'Please upload a profile photo.');
                return;
            }

            // Simulate file upload and final registration
            const newUser = {
                phone: regData.phone,
                pass: regData.pass,
                name: regData.name,
                email: regData.email,
                isAdmin: false,
                image: 'profile_' + Date.now() + '.jpg' // Simulated unique image name
            };
            
            users.push(newUser);
            localStorage.removeItem('temp_reg_data');
            
            // Auto login and proceed to dashboard
            performLogin(newUser);
            showAlert('Success', 'Registration complete. Welcome to Fasil App!');
        }

        function doLogin() {
            const phone = document.getElementById('log-phone').value;
            const pass = document.getElementById('log-pass').value;

            const user = users.find(u => u.phone === phone && u.pass === pass);

            if (user) {
                performLogin(user);
                showAlert('Success', 'Login Successful. Welcome back, ' + user.name + '!');
            } else {
                showAlert('Error', 'Invalid Phone or Password.');
            }
        }

        function performLogin(user) {
            isLoggedIn = true;
            isAdmin = user.isAdmin;
            loggedInUser = user;
            localStorage.setItem('loggedInUser', JSON.stringify(user));
            
            // Update UI
            document.getElementById('view-agreement').classList.remove('show');
            showSection('view-dashboard');
            updateDashboardUI();
        }

        function updateDashboardUI() {
            if (loggedInUser) {
                document.getElementById('user-display-name').innerText = loggedInUser.name;
                document.getElementById('user-display-img').src = loggedInUser.image;
                document.getElementById('prof-display-img').src = loggedInUser.image;
                document.getElementById('status-container').innerText = 'Online';
                document.getElementById('status-container').style.color = 'green';
                
                document.getElementById('prof-name').value = loggedInUser.name;
                document.getElementById('prof-phone').value = loggedInUser.phone;
                document.getElementById('prof-email').value = loggedInUser.email;
            }
            if (isAdmin) {
                document.getElementById('admin-panel-btn').style.display = 'block';
                document.getElementById('create-post-area').style.display = 'block';
                document.getElementById('biz-upload-area').style.display = 'block';
            } else {
                document.getElementById('admin-panel-btn').style.display = 'none';
            }
        }

        function doLogout() {
            isLoggedIn = false;
            isAdmin = false;
            loggedInUser = null;
            localStorage.removeItem('loggedInUser');
            
            showAlert('Logged Out', 'You have been successfully logged out.');
            document.getElementById('view-dashboard').classList.remove('show');
            document.getElementById('view-agreement').classList.add('show');
            document.getElementById('welcome-content').style.display = 'block';
            document.getElementById('auth-section').style.display = 'none';
        }
        
        // --- Admin Functions ---

        function showAdminModal() {
            if (isAdmin) {
                // Skip password if already admin, just show the admin dashboard section (if one existed)
                showAlert('Admin Panel', 'You are already logged in as Admin. Special admin sections would appear here.');
                // For this code structure, show all admin buttons again
                document.getElementById('create-post-area').style.display = 'block';
                document.getElementById('biz-upload-area').style.display = 'block';
                return;
            }
            // For general user trying to access admin
            document.getElementById('pass-modal').style.display = 'flex';
            document.getElementById('pass-title').innerText = 'Admin Code Required';
            document.getElementById('pass-input').placeholder = 'Admin Code';
            document.getElementById('pass-input').dataset.action = 'admin'; // Use dataset to track action
        }
        
        function verifyPass() {
            const passInput = document.getElementById('pass-input').value;
            const action = document.getElementById('pass-input').dataset.action;

            if (action === 'admin' && passInput === 'abc123456abd') { // Fixed Admin Code
                document.getElementById('pass-modal').style.display = 'none';
                showAlert('Admin Access Granted', 'You now have admin privileges for this session.');
                isAdmin = true;
                updateDashboardUI();
            } else if (action === 'chg-pass' && passInput === loggedInUser.pass) {
                document.getElementById('pass-modal').style.display = 'none';
                promptNewPassword();
            } else {
                showAlert('Error', 'Invalid Code/Password.');
            }
            document.getElementById('pass-input').value = ''; // Clear input
        }

        // --- Post/Interaction Functions ---

        function submitPost() {
            const content = document.getElementById('post-content').value;
            const source = document.getElementById('post-source').value;
            const file = document.getElementById('file-post').files[0];

            if (!content || !source) {
                showAlert('Error', 'Please fill in post content and source.');
                return;
            }
            
            // Simulation: Generate new post ID and add to postsData (No actual display update here)
            const newId = postsData.length + 1;
            postsData.push({ id: newId, comments: [], likes: 0, shares: 0, reports: 0 });
            
            showAlert('Post Submitted', `Post ID ${newId} submitted. Content: "${content.substring(0, 30)}..."`);
            
            // Clear inputs
            document.getElementById('post-content').value = '';
            document.getElementById('post-source').value = '';
            document.getElementById('file-post').value = '';
            
            // If admin, keep showing the area
            if (!isAdmin) {
                 document.getElementById('create-post-area').style.display = 'none';
            }
        }

        function likePost(postId) {
            const post = postsData.find(p => p.id === postId);
            if (post) {
                post.likes += 1;
                document.getElementById(`like-count-${postId}`).innerText = post.likes;
                showAlert('Liked', `Post ${postId} liked! Total likes: ${post.likes}`);
            }
        }
        
        function reportPost(postId) {
            const post = postsData.find(p => p.id === postId);
            if (post) {
                post.reports += 1;
                showAlert('Reported', `Post ${postId} reported for review.`);
            }
        }

        function openCommentModal(postId) {
            document.getElementById('comment-type-modal').style.display = 'flex';
            document.getElementById('comment-type-modal').dataset.postId = postId;
        }

        let currentActionPostId = null; // Store context for multi-step process
        let currentCommentAction = null;

        function openComSub(actionType) {
            document.getElementById('comment-type-modal').style.display = 'none';
            currentActionPostId = document.getElementById('comment-type-modal').dataset.postId;
            currentCommentAction = actionType;

            if (actionType === 'give') {
                document.getElementById('comment-media-modal').style.display = 'flex';
            } else if (actionType === 'view') {
                viewComments(currentActionPostId);
            }
        }

        function processComment(mediaType) {
            document.getElementById('comment-media-modal').style.display = 'none';
            const postId = currentActionPostId;

            if (mediaType === 'text') {
                const text = prompt('Enter your text comment:');
                if (text) {
                    submitComment(postId, text);
                }
            } else if (mediaType === 'image' || mediaType === 'video' || mediaType === 'audio') {
                showAlert('Upload Required', `Please upload your ${mediaType} file (Simulation).`);
                // In a real app, you would prompt file upload here
            }
        }

        function submitComment(postId, content) {
            const post = postsData.find(p => p.id === postId);
            if (post) {
                post.comments.push(content);
                const countElement = document.getElementById(`comment-count-${postId}`);
                if (countElement) {
                    countElement.innerText = post.comments.length;
                }
                showAlert('Comment Submitted', 'Your comment has been added.');
            }
        }

        function viewComments(postId) {
            const post = postsData.find(p => p.id === postId);
            const displayArea = document.getElementById('comments-display-area');
            displayArea.innerHTML = '';

            if (post && post.comments.length > 0) {
                post.comments.forEach((comment, index) => {
                    displayArea.innerHTML += `<p style="border-bottom: 1px dotted #ccc; padding-bottom: 5px;"><strong>User ${index + 1}:</strong> ${comment}</p>`;
                });
            } else {
                displayArea.innerHTML = '<p>No comments yet.</p>';
            }

            document.getElementById('view-comments-list-modal').style.display = 'flex';
        }

        function openShareModal(postId) {
            document.getElementById('share-modal').style.display = 'flex';
            document.getElementById('share-modal').dataset.postId = postId;
        }

        function closeShare() {
            document.getElementById('share-modal').style.display = 'none';
        }

        function shareTo(platform) {
            const postId = document.getElementById('share-modal').dataset.postId;
            const post = postsData.find(p => p.id === postId);
            if (post) {
                post.shares += 1;
            }
            
            // Simulation: In a real app, this would open the native share dialog
            showAlert('Share Successful', `Post ${postId} shared to ${platform}.`);
            closeShare();
        }


        // --- Business/Doc Functions ---

        function openDocument(type) {
            showAlert('Document Access', `You have opened the ${type} documents list. Actual document view/download would happen here.`);
        }

        function downloadDoc(docId) {
             showAlert('Download Initiated', `Document ${docId} download starting... (Simulation)`);
        }

        function submitDocument() {
             const title = document.getElementById('doc-title').value;
             const type = document.getElementById('doc-type').value;
             const file = document.getElementById('file-doc').files[0];

             if (!title || !file) {
                showAlert('Error', 'Please fill in title and select a file.');
                return;
             }
             
             showAlert('Document Uploaded', `New ${type} document titled "${title}" uploaded.`);
             
             document.getElementById('doc-title').value = '';
             document.getElementById('file-doc').value = '';
        }

        // --- Chat Functions ---

        function sendMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();

            if (message === '') return;

            const chatDisplay = document.getElementById('chat-display-area');
            const userName = loggedInUser ? loggedInUser.name : 'Guest';
            const userColor = loggedInUser ? '#28a745' : '#6c757d';
            const time = new Date().toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });

            const newMessage = `
                <div style="margin-bottom: 10px; text-align: right;">
                    <strong style="color: ${userColor};">${userName}:</strong> <small style="color: #666;">(${time})</small><br>
                    ${message}
                </div>
            `;
            
            chatDisplay.innerHTML += newMessage;
            chatDisplay.scrollTop = chatDisplay.scrollHeight; // Auto scroll to bottom
            input.value = ''; // Clear input
        }

        // --- Profile Functions ---

        function showChangePasswordModal() {
            if (!loggedInUser) {
                showAlert('Error', 'Please log in first.');
                return;
            }
            document.getElementById('pass-modal').style.display = 'flex';
            document.getElementById('pass-title').innerText = 'Enter Current Password';
            document.getElementById('pass-input').placeholder = 'Current Password';
            document.getElementById('pass-input').dataset.action = 'chg-pass';
        }

        function promptNewPassword() {
            const newPass = prompt('Enter the new 6-digit password:');
            if (newPass && newPass.length === 6 && !isNaN(newPass)) {
                // Find user in simulation array and update password
                const userIndex = users.findIndex(u => u.phone === loggedInUser.phone);
                if (userIndex !== -1) {
                    users[userIndex].pass = newPass;
                    loggedInUser.pass = newPass;
                    localStorage.setItem('loggedInUser', JSON.stringify(loggedInUser));
                    showAlert('Success', 'Password successfully changed.');
                }
            } else {
                showAlert('Error', 'Invalid new password. Must be 6 digits.');
            }
        }


        // --- Utility for File Upload Prompt ---
        function promptUpload(type) {
            if (type === 'profile') {
                document.getElementById('file-profile').click();
            } else if (type === 'post') {
                document.getElementById('file-post').click();
            } else if (type === 'doc') {
                document.getElementById('file-doc').click();
            }
        }
        
        // --- Initialization ---

        function initApp() {
            const storedUser = localStorage.getItem('loggedInUser');
            if (storedUser) {
                loggedInUser = JSON.parse(storedUser);
                isAdmin = loggedInUser.isAdmin;
                isLoggedIn = true;
                
                // Find and update the user data in the dummy array if needed (e.g. password change)
                const storedUserData = users.find(u => u.phone === loggedInUser.phone);
                if (storedUserData) {
                    Object.assign(storedUserData, loggedInUser);
                } else {
                    // This scenario should not happen if initial data is correct, but handles a potential new user store
                    users.push(loggedInUser);
                }
                
                // Show dashboard if logged in
                showSection('view-dashboard');
                updateDashboardUI();
            } else {
                // Show agreement/login if not logged in
                document.getElementById('view-agreement').classList.add('show');
            }
            
            // Set initial language texts
            toggleLanguage();
        }
        
        initApp(); // Start the application
        
    </script>
</body>
</html>
