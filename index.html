<!DOCTYPE html>
<html lang="am">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>á‹áˆ²áˆ á‹Œá‰¥ áŠ á• - Fasil Web App (Final Completed)</title>
    <!-- FontAwesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* --- áˆ˜á‹°á‰ áŠ› CSS --- */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            text-align: center;
            padding: 0; margin: 0;
            background-color: #f0f4f8;
            color: #333;
            padding-bottom: 80px; /* Space for footer */
        }
        .container {
            max-width: 700px; margin: 0 auto; padding: 10px;
        }
        .section {
            background: white; border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            padding: 20px; margin-top: 20px;
            display: none; text-align: left;
            animation: fadeIn 0.3s ease;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        #agreement-view { display: block; } /* First View */

        /* Header Animation & Icons */
        .top-header {
            display: flex; justify-content: space-between; align-items: center;
            background: #fff; padding: 10px; border-bottom: 2px solid #007bff;
        }
        .eagle-icon { font-size: 30px; color: #555; }
        .lion-icon { font-size: 30px; color: #d35400; font-weight: bold; }
        .marquee-container {
            flex: 1; overflow: hidden; white-space: nowrap; margin: 0 10px;
        }
        .marquee-text {
            display: inline-block; padding-left: 100%;
            animation: marquee 15s linear infinite;
            color: #007bff; font-weight: bold; font-size: 18px;
        }
        @keyframes marquee { 0% { transform: translateX(0); } 100% { transform: translateX(-100%); } }

        /* Footer Navigation (3 Buttons) */
        .bottom-nav {
            position: fixed; bottom: 0; left: 0; width: 100%;
            display: flex; height: 60px; box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
        }
        .nav-btn {
            flex: 1; border: none; color: white; font-weight: bold;
            font-size: 14px; cursor: pointer; display: flex;
            flex-direction: column; align-items: center; justify-content: center;
        }
        .nav-home { background-color: #28a745; } /* Green */
        .nav-live { background-color: #ffc107; color: black; } /* Yellow */
        .nav-profile { background-color: #dc3545; } /* Red */

        /* Inputs & Buttons */
        input, select, textarea {
            width: 100%; padding: 12px; margin: 10px 0;
            border: 1px solid #ccc; border-radius: 8px; box-sizing: border-box; font-size: 16px;
        }
        button.action-btn {
            width: 100%; padding: 12px; margin: 10px 0; border: none; border-radius: 8px;
            color: white; font-weight: bold; cursor: pointer; font-size: 16px;
        }
        .btn-blue { background-color: #007bff; }
        .btn-green { background-color: #28a745; }
        .btn-red { background-color: #dc3545; }
        .btn-orange { background-color: #ff9800; }

        /* Grid Layout for App Icons */
        .app-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 15px; margin-top: 20px;
        }
        .app-icon {
            background: #f8f9fa; border: 1px solid #e9ecef; border-radius: 12px;
            padding: 15px; text-align: center; cursor: pointer;
            transition: transform 0.2s; box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            height: 100px;
        }
        .app-icon:active { transform: scale(0.95); }
        .app-icon i { font-size: 24px; margin-bottom: 8px; color: #007bff; }
        .app-icon span { font-size: 12px; font-weight: bold; color: #333; }
        
        /* Post Card */
        .post-card {
            border: 1px solid #eee; background: #fff; border-radius: 8px;
            padding: 15px; margin-bottom: 15px; position: relative;
        }
        .post-actions {
            display: flex; justify-content: space-around; margin-top: 10px; border-top: 1px solid #eee; padding-top: 10px;
        }
        .action-icon { cursor: pointer; font-size: 14px; color: #555; background: none; border: none; }
        .action-icon:hover { color: #007bff; }
        
        /* Modals */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6); display: none;
            justify-content: center; align-items: center; z-index: 2000;
        }
        .modal-box {
            background: white; padding: 25px; border-radius: 12px; width: 85%; max-width: 400px; text-align: center;
        }
        
        /* Business Balance */
        .balance-card {
            background: #f8f9fa; padding: 15px; border-radius: 8px; border: 1px solid #ddd;
        }
        .total-green { color: #28a745; font-weight: bold; font-size: 18px; margin-top: 5px; }

        /* User List */
        .user-item {
            display: flex; align-items: center; padding: 10px; border-bottom: 1px solid #eee;
        }
        .user-item img { width: 40px; height: 40px; border-radius: 50%; margin-right: 15px; }
        
        /* Lang Switch */
        .lang-switch {
            background: #6c757d; color: white; padding: 5px 10px; border-radius: 5px;
            font-size: 12px; cursor: pointer; margin-top: 5px; border: none;
        }
    </style>
</head>
<body>

    <!-- Header -->
    <div class="top-header">
        <div class="eagle-icon"><i class="fas fa-dove"></i></div> <!-- Eagle Rep -->
        <div class="marquee-container">
            <div class="marquee-text" id="header-marquee">áŠ¥áŠ•áŠ³áŠ• á‹ˆá‹° á‹áˆ²áˆ á‹Œá‰¥ áŠ á• áŠ áŒˆáˆáŒáˆá‰µ áˆ›á‹•áŠ¨áˆ á‰ á‹°áˆ…áŠ“ áˆ˜áŒ¡!</div>
        </div>
        <div style="text-align: right;">
            <div class="lion-icon"><i class="fas fa-paw"></i></div> <!-- Lion Rep -->
            <button class="lang-switch" onclick="toggleLanguage()">Language</button>
        </div>
    </div>

    <div class="container">
        
        <!-- Alerts Modal -->
        <div class="modal-overlay" id="custom-modal">
            <div class="modal-box">
                <h3 id="modal-title"></h3>
                <p id="modal-text"></p>
                <button class="action-btn btn-blue" onclick="closeModal()">OK</button>
            </div>
        </div>

        <!-- Password Modal -->
        <div class="modal-overlay" id="password-modal">
            <div class="modal-box">
                <h3>Password Required</h3>
                <input type="password" id="modal-pass-input" placeholder="Password" style="text-align:center;">
                <button class="action-btn btn-green" onclick="confirmPass()">Confirm</button>
                <button class="action-btn btn-red" onclick="document.getElementById('password-modal').style.display='none'">Cancel</button>
            </div>
        </div>

        <!-- 1. Agreement View -->
        <div class="section" id="agreement-view">
            <h2 id="t-welcome">áŠ¥áŠ•áŠ³áŠ• á‹ˆá‹° á‹áˆ²áˆ á‹Œá‰¥ áŠ á• á‰ á‹°áˆ…áŠ“ áˆ˜áŒ¡</h2>
            <p id="t-intro-long">
                á‹¨á‹áˆ²áˆ á‹Œá‰¥ áŠ á• á‰ á‰°áŠ áˆ›áŠ’áŠá‰µ áŠ¥áŠ•á‹²áˆ°áˆ« á‹¨á‰°á‰€á‹¨áˆ° á‹¨á‹²áŒ‚á‰³áˆ áˆ˜áˆ¨áŒƒ áˆ˜áŒ‹áˆªá‹« áˆ˜á‹µáˆ¨áŠ­ áŠá‹á¢ 
                áˆáˆŒáˆ á‰µáŠ­áŠ­áˆˆáŠ› áˆ˜áˆ¨áŒƒá‹á‰½áŠ• á‰ á‰³áˆ›áŠáŠá‰µ á‹«á‰€áˆ­á‰£áˆá¢ á‰ á‰°áŒ¨áˆ›áˆªáˆ áŠ¥áŠ•á‹° á“á‹ˆáˆ­ á–á‹­áŠ•á‰µá£ á’á‹²áŠ¤áá£ áˆ˜áˆ¨áŒƒ áˆ˜áˆˆáŒ á áŠ¥áŠ“ áˆ›á‹˜áŒ‹áŒ€á‰µ á‹«áˆ‰ áŠ áŒˆáˆáŒáˆá‰¶á‰½áŠ• á‹«á‰€áˆ­á‰£áˆá¢ 
                á‰ á‰°áŒ¨áˆ›áˆª á‰  AI á‹¨á‰³áŒˆá‹™ áŠ áŒˆáˆáŒáˆá‰¶á‰½áŠ• áŠ¥áŠ“á‰€áˆ­á‰£áˆˆáŠ•á¢ áŠ áŒˆáˆáŒáˆá‰³á‰½áŠ•áŠ• áˆµáˆˆáˆ˜áˆ¨áŒ¡ áŠ¥áŠ“áˆ˜áˆ°áŒáŠ“áˆˆáŠ•á¢
            </p>
            <div style="background:#ffe0b2; padding:15px; border-left:5px solid #ff9800; border-radius:5px;">
                <h3 id="t-strict">âš ï¸ áŒ¥á‰¥á‰… á‹¨áŠ áŒ á‰ƒá‰€áˆ áˆ˜áˆ˜áˆªá‹«</h3>
                <p id="t-rules-long">
                    á‰ á‹šáˆ… áˆ˜á‹µáˆ¨áŠ­ á–áˆˆá‰²áŠ«á£ áŒ¥áˆ‹á‰»á£ á‹˜áˆ¨áŠáŠá‰µá£ á‹¨áˆƒá‹­áˆ›áŠ–á‰µ áŠ¥áŠ“ á‹¨á‰¥áˆ”áˆ­ áŒ¥áˆ‹á‰»á£ áŠ¥áŠ•á‹²áˆáˆ áˆ€áˆ°á‰°áŠ› áˆ˜áˆ¨áŒƒ áˆ›á‰…áˆ¨á‰¥ á‰ áŒ¥á‰¥á‰… á‹¨á‰°áŠ¨áˆˆáŠ¨áˆˆ áŠá‹á¢
                    á‹­áˆ…áŠ• áŠ«á‹°áˆ¨áŒ‰ á‰ áŒ¥á‰¥á‰… á‹¨áˆ²áˆµá‰°áˆ á‰áŒ¥áŒ¥áˆ­ áŠ¥áŠ“ á‰  AI áˆ¨á‹³á‰µ áŠ áˆ›áŠ«áŠáŠá‰µ á‹«áˆˆáˆáŠ•áˆ áˆ›áˆµáŒ áŠ•á‰€á‰…á‹« áŠ¨áŠ áŒˆáˆáŒáˆá‰³á‰½áŠ• á‹­á‰³áŒˆá‹³áˆ‰á¢
                </p>
            </div>
            <h3 id="t-agree-q">á‹­áˆµáˆ›áˆ›áˆ‰?</h3>
            <button class="action-btn btn-green" onclick="showView('home-view')" id="btn-agree">âœ… áŠ¥áˆµáˆ›áˆ›áˆˆáˆ</button>
            <button class="action-btn btn-red" onclick="showAlert('áŠ áˆá‰°áˆµáˆ›áˆ™áˆ!', 'error')" id="btn-disagree">âŒ áŠ áˆáˆµáˆ›áˆ›áˆ</button>
        </div>

        <!-- 2. Home/Login View -->
        <div class="section" id="home-view">
            <h2 id="t-login-opt">á‹¨áˆ˜áŒá‰¢á‹« áˆáˆ­áŒ«</h2>
            <button class="action-btn btn-blue" onclick="showView('signup-view')" id="btn-free-sign">á‰ áŠáƒ áˆˆáˆ˜áˆ˜á‹áŒˆá‰¥ / áˆˆáˆ˜áŒá‰£á‰µ</button>
            <button class="action-btn btn-orange" onclick="checkPremium()" id="btn-pay-sign">á‰ áŠ­áá‹« áŠ áˆ›áˆ«áŒ­ áˆˆáˆ˜áˆ˜á‹áŒˆá‰¥</button>
            <button class="action-btn btn-red" onclick="showView('agreement-view')" id="btn-back-pol">á‹ˆá‹° áˆ˜áˆ˜áˆªá‹« á‰°áˆ˜áˆˆáˆµ</button>
        </div>

        <!-- 3. Signup -->
        <div class="section" id="signup-view">
            <h2 id="t-reg">áˆá‹áŒˆá‰£</h2>
            <input type="text" id="reg-name" placeholder="Full Name">
            <input type="text" id="reg-phone" placeholder="Phone (09... 10 digits)">
            <input type="email" id="reg-email" placeholder="Email (@gmail.com only)">
            <input type="password" id="reg-pass" placeholder="Password (6 digits)">
            <p>**Profile Photo**</p>
            <input type="file" id="reg-photo" accept="image/*">
            <button class="action-btn btn-green" onclick="handleSignup()" id="btn-reg-sub">áˆ˜á‹áŒá‰¥</button>
            <p onclick="showView('login-view')" style="color:#007bff; cursor:pointer;" id="lnk-login">á‰°áˆ˜á‹áŒá‰ á‹‹áˆ? á‹­áŒá‰¡</p>
        </div>

        <!-- 4. Login -->
        <div class="section" id="login-view">
            <h2 id="t-log">áˆ˜áŒá‰¢á‹«</h2>
            <input type="text" id="log-phone" placeholder="Phone">
            <input type="password" id="log-pass" placeholder="Password">
            <button class="action-btn btn-blue" onclick="handleLogin()" id="btn-log-sub">áŒá‰£</button>
            <p onclick="showView('signup-view')" style="color:#007bff; cursor:pointer;" id="lnk-reg">áŠ á‹²áˆµ áŠá‹á‰µ? á‹­áˆ˜á‹áŒˆá‰¡</p>
        </div>

        <!-- 5. Main Dashboard (Green Tab) -->
        <div class="section" id="main-dashboard">
            <h2 id="t-dash">á‹‹áŠ“ á‹¨áŠ áŒˆáˆáŒáˆá‰µ áˆ›á‹•áŠ¨áˆ</h2>
            
            <h3 id="t-free-svc">áŠáƒ áŠ áŒˆáˆáŒáˆá‰¶á‰½</h3>
            <div class="app-grid">
                <div class="app-icon" onclick="showView('view-select')"><i class="fas fa-eye"></i><span id="ic-view">áˆ˜áˆ¨áŒƒ áˆ›á‹¨á‰µ</span></div>
                <div class="app-icon" onclick="showView('post-select')"><i class="fas fa-pen"></i><span id="ic-post">áˆ˜áˆ¨áŒƒ áˆ˜áˆˆáŒ á</span></div>
                <div class="app-icon" onclick="handleGroup()"><i class="fas fa-users"></i><span id="ic-group">áŒáˆ©á• ááŒ áˆ­</span></div>
                <div class="app-icon" onclick="showMyGroups()"><i class="fas fa-folder"></i><span id="ic-mygroup">áŒáˆ©á–á‰½</span></div>
                <div class="app-icon" onclick="handleChat()"><i class="fas fa-comments"></i><span id="ic-chat">á‰»á‰µ</span></div>
                <div class="app-icon" onclick="showView('feedback-center')"><i class="fas fa-comment-dots"></i><span id="ic-feedback">áŠ áˆµá‰°á‹«á‹¨á‰µ</span></div>
                <div class="app-icon" onclick="showUserList(false)"><i class="fas fa-user-friends"></i><span id="ic-users">á‰°áŒ á‰ƒáˆšá‹á‰½</span></div>
            </div>

            <h3 id="t-pay-svc">á‹¨áŠ­áá‹« áŠ áŒˆáˆáŒáˆá‰¶á‰½</h3>
            <div class="app-grid">
                <div class="app-icon" onclick="openPremium('video')"><i class="fas fa-video"></i><span id="ic-p-video">áŒ¥áˆ«á‰µ á‰ªá‹²á‹®</span></div>
                <div class="app-icon" onclick="openPremium('news')"><i class="fas fa-newspaper"></i><span id="ic-p-news">á‹œáŠ“</span></div>
                <div class="app-icon" onclick="openPremium('ppt')"><i class="fas fa-file-powerpoint"></i><span id="ic-p-ppt">PPT</span></div>
                <div class="app-icon" onclick="openPremium('pdf')"><i class="fas fa-file-pdf"></i><span id="ic-p-pdf">PDF</span></div>
                <div class="app-icon" onclick="checkAuthAndGo('business-view')"><i class="fas fa-wallet"></i><span id="ic-biz">á‰¢á‹áŠáˆµ</span></div>
            </div>
        </div>

        <!-- 6. Post Select -->
        <div class="section" id="post-select">
            <h2 id="t-post-what">áˆáŠ• áˆ˜áˆˆáŒ á á‹­áˆáˆáŒ‹áˆ‰?</h2>
            <button class="action-btn btn-blue" onclick="startPost('text')" id="btn-p-txt">ğŸ“ á…áˆá</button>
            <button class="action-btn btn-blue" onclick="startPost('image')" id="btn-p-img">ğŸ“· áˆáˆµáˆ</button>
            <button class="action-btn btn-blue" onclick="startPost('video')" id="btn-p-vid">ğŸ¥ á‰ªá‹²á‹®</button>
            <button class="action-btn btn-blue" onclick="startPost('audio')" id="btn-p-aud">ğŸ™ï¸ á‹µáˆá…</button>
        </div>
        
        <!-- 7. Post Form -->
        <div class="section" id="post-form">
            <h2 id="t-posting">áŠ¥á‹¨áˆˆáŒ á‰ áŠá‹...</h2>
            <input type="text" id="p-title" placeholder="Title">
            <textarea id="p-content" placeholder="Content..."></textarea>
            <div id="p-file-area" style="display:none;"><input type="file" id="p-file"></div>
            <button class="action-btn btn-green" onclick="submitPost()">Post</button>
        </div>

        <!-- 8. View Select -->
        <div class="section" id="view-select">
            <h2 id="t-view-what">áˆáŠ• áˆ˜áˆ˜áˆáŠ¨á‰µ á‹­áˆáˆáŒ‹áˆ‰?</h2>
            <button class="action-btn btn-blue" onclick="viewPosts('text')" id="btn-v-txt">ğŸ“ á…áˆá</button>
            <button class="action-btn btn-blue" onclick="viewPosts('image')" id="btn-v-img">ğŸ“· áˆáˆµáˆ</button>
            <button class="action-btn btn-blue" onclick="viewPosts('video')" id="btn-v-vid">ğŸ¥ á‰ªá‹²á‹®</button>
            <button class="action-btn btn-blue" onclick="viewPosts('audio')" id="btn-v-aud">ğŸ™ï¸ á‹µáˆá…</button>
        </div>

        <!-- 9. Viewer -->
        <div class="section" id="viewer-page">
            <h2 id="t-feed">á‹áˆ­á‹áˆ­</h2>
            <div id="feed-container"></div>
        </div>

        <!-- 10. Business Center -->
        <div class="section" id="business-view">
            <h2 id="t-biz">ğŸ’° á‰¢á‹áŠáˆµ áˆ›á‹•áŠ¨áˆ</h2>
            <div class="balance-card">
                <div>USD: <b id="b-usd">0.00</b> | GBP: <b id="b-gbp" style="color:red">0.00</b> | EUR: <b id="b-eur" style="color:blue">0.00</b></div>
                <div class="total-green" id="t-total">Total (USD): 0.00</div>
            </div>
            <button class="action-btn btn-green" onclick="showView('deposit-view')" id="btn-dep">áŒˆáŠ•á‹˜á‰¥ áˆˆáˆ›áˆµáŒˆá‰£á‰µ</button>
            <button class="action-btn btn-blue" onclick="showView('withdraw-view')" id="btn-with">áŒˆáŠ•á‹˜á‰¥ áˆˆáˆ›á‹áŒ£á‰µ</button>
            <button class="action-btn btn-orange" onclick="handleIntl()" id="btn-intl">á‹“áˆˆáˆ áŠ á‰€á áŒá‹¢</button>
        </div>

        <!-- 11. Deposit -->
        <div class="section" id="deposit-view">
            <h2>Deposit</h2>
            <input type="number" id="dep-amt" placeholder="Amount (ETB)">
            <select id="dep-cur"><option value="USD">USD</option><option value="GBP">GBP</option><option value="EUR">EUR</option></select>
            <p>Receipt:</p><input type="file" id="dep-rec">
            <button class="action-btn btn-green" onclick="doDeposit()">Deposit</button>
        </div>

        <!-- 12. Withdraw -->
        <div class="section" id="withdraw-view">
            <h2>Withdraw</h2>
            <select id="w-cur"><option value="USD">From USD</option><option value="GBP">From GBP</option><option value="EUR">From EUR</option></select>
            <input type="number" id="w-amt" placeholder="Amount">
            <select id="w-method" onchange="checkWMethod()"><option value="Telebirr">Telebirr</option><option value="CBE">CBE</option><option value="PayPal">PayPal</option></select>
            <input type="text" id="w-rec" placeholder="Phone/Account">
            <button class="action-btn btn-blue" onclick="reqWithdraw()">Withdraw</button>
        </div>

        <!-- 13. International Purchase -->
        <div class="section" id="intl-view">
            <h2>International Purchase</h2>
            <button class="action-btn btn-blue" onclick="showIntlList()">áˆáˆ¨áŒ¥ (Select)</button>
            <div id="intl-list" style="display:none; margin-top:10px;">
                <select id="intl-item">
                    <option>ChatGPT</option><option>Amazon</option><option>Hosting</option><option>Domain</option><option>Gemini</option>
                </select>
                <input type="number" id="intl-amt" placeholder="Amount ($)">
                <button class="action-btn btn-green" onclick="payIntl()">Pay</button>
            </div>
        </div>

        <!-- 14. Premium Pricing -->
        <div class="section" id="pricing-view">
            <h2>Premium Access</h2>
            <button class="action-btn btn-green" onclick="payPrem(5)">Daily (5 ETB)</button>
            <button class="action-btn btn-green" onclick="payPrem(25)">Weekly (25 ETB)</button>
            <button class="action-btn btn-green" onclick="payPrem(30)">Monthly (30 ETB)</button>
            <button class="action-btn btn-green" onclick="payPrem(100)">Yearly (100 ETB)</button>
            <div id="pay-confirm" style="display:none;">
                <p>Upload Receipt:</p><input type="file" id="pay-rec">
                <button class="action-btn btn-blue" onclick="finPay()">Confirm</button>
            </div>
        </div>

        <!-- 15. User List -->
        <div class="section" id="user-list">
            <h2 id="t-users">á‰°áŒ á‰ƒáˆšá‹á‰½</h2>
            <div id="ul-cont"></div>
            <button class="action-btn btn-green" id="btn-ul-done" style="display:none;" onclick="groupDone()">Done</button>
        </div>

        <!-- 16. Chat/Group Room -->
        <div class="section" id="chat-room">
            <h2 id="chat-title">Chat</h2>
            <div id="chat-msgs" style="height:250px; overflow-y:auto; border:1px solid #ddd; margin-bottom:10px;"></div>
            <input type="text" id="chat-txt" placeholder="Message...">
            <div class="media-btn-group">
                <button onclick="sendChat('text')">Send</button>
                <button onclick="sendChatMedia('image')">ğŸ“·</button>
                <button onclick="sendChatMedia('video')">ğŸ¥</button>
                <button onclick="sendChatMedia('audio')">ğŸ™ï¸</button>
                <button onclick="sendChatMedia('live')">ğŸ”´ Live</button>
            </div>
            <input type="file" id="chat-file" style="display:none;">
        </div>
        
        <!-- 17. My Groups -->
        <div class="section" id="my-groups">
            <h2>My Groups</h2>
            <div id="g-list"></div>
        </div>

        <!-- 18. Feedback -->
        <div class="section" id="feedback-center">
            <h2>Feedback</h2>
            <p>For Admin (Text/Live Only):</p>
            <button class="action-btn btn-blue" onclick="giveFb('text')">Text</button>
            <button class="action-btn btn-red" onclick="giveFb('live')">Live</button>
            <hr>
            <button class="action-btn btn-orange" onclick="viewFbs()">View All Feedbacks</button>
            <div id="fb-list"></div>
        </div>

    </div>

    <!-- Footer Navigation -->
    <div class="bottom-nav">
        <button class="nav-btn nav-home" onclick="goHomeTab()">
            <i class="fas fa-home"></i> <span>Home</span>
        </button>
        <button class="nav-btn nav-live" onclick="alert('Live Tab Demo')">
            <i class="fas fa-broadcast-tower"></i> <span>Live</span>
        </button>
        <button class="nav-btn nav-profile" onclick="alert('Profile Demo')">
            <i class="fas fa-user"></i> <span>Profile</span>
        </button>
    </div>

    <script>
        // --- DATA & STATE ---
        let user = JSON.parse(localStorage.getItem('fw_user')) || null;
        let users = JSON.parse(localStorage.getItem('fw_users')) || [];
        let posts = JSON.parse(localStorage.getItem('fw_posts')) || [];
        let groups = JSON.parse(localStorage.getItem('fw_groups')) || [];
        let chats = JSON.parse(localStorage.getItem('fw_chats')) || {};
        let feedbacks = JSON.parse(localStorage.getItem('fw_fb')) || [];
        let lang = 'am';
        let pendingAct = null;
        let activePostType = 'text';
        let activeChat = null;
        const RATES = {USD:120, GBP:150, EUR:130};

        // --- TRANSLATIONS (Full) ---
        const TXT = {
            'am': {
                't-welcome':'áŠ¥áŠ•áŠ³áŠ• á‹ˆá‹° á‹áˆ²áˆ á‹Œá‰¥ áŠ á• á‰ á‹°áˆ…áŠ“ áˆ˜áŒ¡', 't-rules':'âš ï¸ áŒ¥á‰¥á‰… á‹¨áŠ áŒ á‰ƒá‰€áˆ áˆ˜áˆ˜áˆªá‹«',
                'btn-agree':'âœ… áŠ¥áˆµáˆ›áˆ›áˆˆáˆ', 'btn-disagree':'âŒ áŠ áˆáˆµáˆ›áˆ›áˆ', 't-login-opt':'á‹¨áˆ˜áŒá‰¢á‹« áˆáˆ­áŒ«',
                'btn-free-sign':'á‰ áŠáƒ áˆˆáˆ˜áˆ˜á‹áŒˆá‰¥ / áˆˆáˆ˜áŒá‰£á‰µ', 'btn-pay-sign':'á‰ áŠ­áá‹« áŠ áˆ›áˆ«áŒ­ áˆˆáˆ˜áˆ˜á‹áŒˆá‰¥',
                't-dash':'á‹‹áŠ“ á‹¨áŠ áŒˆáˆáŒáˆá‰µ áˆ›á‹•áŠ¨áˆ', 't-free-svc':'áŠáƒ áŠ áŒˆáˆáŒáˆá‰¶á‰½', 't-pay-svc':'á‹¨áŠ­áá‹« áŠ áŒˆáˆáŒáˆá‰¶á‰½',
                'ic-view':'áˆ˜áˆ¨áŒƒ áˆ›á‹¨á‰µ', 'ic-post':'áˆ˜áˆ¨áŒƒ áˆ˜áˆˆáŒ á', 'ic-group':'áŒáˆ©á• ááŒ áˆ­', 'ic-mygroup':'áŒáˆ©á–á‰½',
                'ic-chat':'á‰»á‰µ', 'ic-feedback':'áŠ áˆµá‰°á‹«á‹¨á‰µ', 'ic-users':'á‰°áŒ á‰ƒáˆšá‹á‰½',
                'ic-p-video':'áŒ¥áˆ«á‰µ á‰ªá‹²á‹®', 'ic-p-news':'á‹œáŠ“', 'ic-p-ppt':'PPT', 'ic-p-pdf':'PDF', 'ic-biz':'á‰¢á‹áŠáˆµ',
                't-biz':'ğŸ’° á‰¢á‹áŠáˆµ áˆ›á‹•áŠ¨áˆ', 'btn-dep':'áŒˆáŠ•á‹˜á‰¥ áˆˆáˆ›áˆµáŒˆá‰£á‰µ', 'btn-with':'áŒˆáŠ•á‹˜á‰¥ áˆˆáˆ›á‹áŒ£á‰µ', 'btn-intl':'á‹“áˆˆáˆ áŠ á‰€á áŒá‹¢'
            },
            'en': {
                't-welcome':'Welcome to Fasil Web App', 't-rules':'âš ï¸ Strict Policy',
                'btn-agree':'âœ… I Agree', 'btn-disagree':'âŒ I Disagree', 't-login-opt':'Login Options',
                'btn-free-sign':'Free Register / Login', 'btn-pay-sign':'Premium Register',
                't-dash':'Main Service Center', 't-free-svc':'Free Services', 't-pay-svc':'Premium Services',
                'ic-view':'View Info', 'ic-post':'Post Info', 'ic-group':'Create Group', 'ic-mygroup':'My Groups',
                'ic-chat':'Chat', 'ic-feedback':'Feedback', 'ic-users':'Users',
                'ic-p-video':'HD Video', 'ic-p-news':'News', 'ic-p-ppt':'PPT', 'ic-p-pdf':'PDF', 'ic-biz':'Business',
                't-biz':'ğŸ’° Business Center', 'btn-dep':'Deposit', 'btn-with':'Withdraw', 'btn-intl':'Intl Purchase'
            }
        };

        // --- CORE UI ---
        function showView(id) {
            document.querySelectorAll('.section').forEach(e=>e.style.display='none');
            document.getElementById(id).style.display='block';
            if(id==='business-view') upBal();
        }
        function goHomeTab() { if(user) showView('main-dashboard'); else showView('home-view'); }
        function showAlert(m,t) { 
            const mo=document.getElementById('custom-modal');
            document.getElementById('modal-title').innerText=t==='error'?'âŒ Error':'âœ… Success';
            document.getElementById('modal-text').innerText=m;
            mo.style.display='flex';
        }
        function closeModal(){document.getElementById('custom-modal').style.display='none';}
        function toggleLanguage(){
            lang = lang==='am'?'en':'am';
            const t=TXT[lang];
            for(let k in t) { if(document.getElementById(k)) document.getElementById(k).innerText=t[k]; }
        }

        // --- AUTH ---
        function handleSignup(){
            const n=document.getElementById('reg-name').value;
            const p=document.getElementById('reg-phone').value;
            const e=document.getElementById('reg-email').value;
            const pw=document.getElementById('reg-pass').value;
            
            if(!p.match(/^09\d{8}$/)) return showAlert("Phone must start with 09 (10 digits)", "error");
            if(!e.endsWith("@gmail.com")) return showAlert("Email must be @gmail.com", "error");
            if(users.some(u=>u.phone===p || u.email===e)) return showAlert("User exists!", "error");
            
            users.push({name:n, phone:p, email:e, password:pw, balUSD:0, balGBP:0, balEUR:0, photo:''});
            localStorage.setItem('fw_users', JSON.stringify(users));
            showAlert("Registered!", "success"); showView('login-view');
        }
        function handleLogin(){
            const p=document.getElementById('log-phone').value;
            const pw=document.getElementById('log-pass').value;
            const u=users.find(x=>x.phone===p && x.password===pw);
            if(u){ user=u; localStorage.setItem('fw_user',JSON.stringify(u)); showView('main-dashboard'); }
            else showAlert("Invalid Credentials", "error");
        }
        function checkAuthAndGo(v){ if(user) showView(v); else showView('login-view'); }
        function checkPremium(){ if(!user){ showAlert("Sign up Free first", "error"); showView('signup-view'); } else showView('main-dashboard'); }

        // --- POSTS ---
        function startPost(t){ activePostType=t; document.getElementById('p-file-area').style.display=t==='text'?'none':'block'; showView('post-form'); }
        function submitPost(){
            const t=document.getElementById('p-title').value;
            const c=document.getElementById('p-content').value;
            const f=document.getElementById('p-file').files[0];
            const save=(d)=>{
                posts.unshift({id:Date.now(), title:t, content:c, file:d, type:activePostType, author:user.name, phone:user.phone, likes:0});
                localStorage.setItem('fw_posts', JSON.stringify(posts));
                showAlert("Posted!", "success"); showView('main-dashboard');
            };
            if(f){ const r=new FileReader(); r.onload=e=>save(e.target.result); r.readAsDataURL(f); }
            else save(null);
        }
        function viewPosts(type){
            const c=document.getElementById('feed-container'); c.innerHTML='';
            const fs=posts.filter(p=>p.type===type);
            if(!fs.length) c.innerHTML='Empty';
            fs.forEach(p=>{
                let m=''; if(p.file){
                    if(p.type==='image') m=`<img src="${p.file}" width="100%">`;
                    else if(p.type==='video') m=`<video src="${p.file}" controls width="100%"></video>`;
                    else m=`<audio src="${p.file}" controls></audio>`;
                }
                const isMine = p.phone===user.phone;
                const delBtn = isMine ? `<button class="action-icon" onclick="delPost(${p.id})"><i class="fas fa-trash"></i> Delete</button>` : '';
                
                c.innerHTML += `<div class="post-card">
                    <b>${p.author}</b>
                    <h3>${p.title}</h3><p>${p.content}</p>${m}
                    <div class="post-actions">
                        <button class="action-icon" onclick="alert('Liked')"><i class="fas fa-thumbs-up"></i> Like</button>
                        <button class="action-icon" onclick="doComment()"><i class="fas fa-comment"></i> Comment</button>
                        <button class="action-icon" onclick="alert('Followed')"><i class="fas fa-user-plus"></i> Follow</button>
                        ${delBtn}
                    </div>
                </div>`;
            });
            showView('viewer-page');
        }
        function delPost(id){ posts=posts.filter(p=>p.id!==id); localStorage.setItem('fw_posts', JSON.stringify(posts)); viewPosts(activePostType); }
        function doComment(){
            // Comment with Media
            const t = prompt("Text / Type 'media' for options:");
            if(t==='media') alert("Select: Audio/Video/Image (Implemented in Chat Logic)");
            else if(t) alert("Comment Added");
        }

        // --- BUSINESS ---
        function upBal(){
            document.getElementById('b-usd').innerText=user.balUSD.toFixed(2);
            document.getElementById('b-gbp').innerText=user.balGBP.toFixed(2);
            document.getElementById('b-eur').innerText=user.balEUR.toFixed(2);
            const tot = user.balUSD + (user.balGBP*1.25) + (user.balEUR*1.1);
            document.getElementById('t-total').innerText = "Total (USD): "+tot.toFixed(2);
        }
        function doDeposit(){
            const amt=parseFloat(document.getElementById('dep-amt').value);
            const cur=document.getElementById('dep-cur').value;
            if(amt>=100){
                if(cur==='USD') user.balUSD += amt/RATES.USD;
                if(cur==='GBP') user.balGBP += amt/RATES.GBP;
                if(cur==='EUR') user.balEUR += amt/RATES.EUR;
                localStorage.setItem('fw_user', JSON.stringify(user));
                showAlert("Deposited!", "success"); upBal(); showView('business-view');
            } else showAlert("Min 100 ETB", "error");
        }
        function checkWMethod(){
            const m=document.getElementById('w-method').value;
            const r=document.getElementById('w-rec');
            if(m==='PayPal') r.placeholder="Email"; else if(m==='CBE') r.placeholder="Account (13 digits 1000/10000)"; else r.placeholder="Phone";
        }
        function reqWithdraw(){
            const m=document.getElementById('w-method').value;
            const r=document.getElementById('w-rec').value;
            if(m==='PayPal' && !r.includes('@')) return showAlert("PayPal needs Email", "error");
            if(m==='CBE' && (!r.match(/^(1000|10000)\d{9}$/) || r.length!==13)) return showAlert("Invalid CBE Account", "error");
            
            document.getElementById('password-modal').style.display='flex';
            pendingAct = () => {
                const amt=parseFloat(document.getElementById('w-amt').value);
                const sc=document.getElementById('w-cur').value;
                if(sc==='USD') user.balUSD-=amt; if(sc==='GBP') user.balGBP-=amt; if(sc==='EUR') user.balEUR-=amt;
                localStorage.setItem('fw_user', JSON.stringify(user));
                showAlert("Success", "success"); showView('business-view');
            };
        }
        function handleIntl() { showView('intl-view'); }
        function showIntlList() { document.getElementById('intl-list').style.display='block'; }
        function payIntl() {
            document.getElementById('password-modal').style.display='flex';
            pendingAct = () => {
                user.balUSD -= parseFloat(document.getElementById('intl-amt').value);
                localStorage.setItem('fw_user', JSON.stringify(user));
                showAlert("Paid!", "success"); showView('business-view');
            };
        }
        function confirmPass(){
            if(document.getElementById('modal-pass-input').value===user.password){
                document.getElementById('password-modal').style.display='none';
                if(pendingAct) pendingAct();
            } else alert("Wrong Password");
        }

        // --- PREMIUM ---
        function openPremium(t){ showView('pricing-view'); }
        function payPrem(a){ document.getElementById('pay-confirm').style.display='block'; }
        function finPay(){ showAlert("Service Activated!", "success"); showView('main-dashboard'); }

        // --- CHAT & USERS ---
        function showUserList(selMode){
            const c=document.getElementById('ul-cont'); c.innerHTML='';
            users.forEach(u=>{
                if(u.phone===user.phone) return;
                c.innerHTML += `<div class="user-item" onclick="${selMode?'togSel(this)':'openChat(\''+u.phone+'\')'}">
                    <img src="${u.photo||'https://via.placeholder.com/40'}"> <b>${u.name}</b>
                </div>`;
            });
            document.getElementById('btn-ul-done').style.display=selMode?'block':'none';
            showView('user-list');
        }
        function handleChat(){ showUserList(false); }
        function openChat(ph){ activeChat={type:'private', id:ph}; showView('chat-room'); renderChat(); }
        function handleGroup(){ showUserList(true); }
        function togSel(el){ el.classList.toggle('selected'); el.style.background=el.classList.contains('selected')?'#d1e7dd':'transparent'; }
        function groupDone(){
            const n=prompt("Group Name:");
            if(n){ groups.push({id:Date.now(), name:n, members:[user.phone], msgs:[]}); localStorage.setItem('fw_groups', JSON.stringify(groups)); showAlert("Group Created", "success"); showView('main-dashboard'); }
        }
        function showMyGroups(){
            const c=document.getElementById('g-list'); c.innerHTML='';
            groups.forEach(g=>{ c.innerHTML+=`<div class="user-item" onclick="openGrp(${g.id})"><b>${g.name}</b></div>`; });
            showView('my-groups');
        }
        function openGrp(gid){ activeChat={type:'group', id:gid}; showView('chat-room'); renderChat(); }
        
        // --- CHAT LOGIC ---
        function sendChat(type, data=null){
            const txt=document.getElementById('chat-txt').value;
            const msg={s:user.name, t:txt, d:data, type};
            if(activeChat.type==='private'){
                const k=[user.phone, activeChat.id].sort().join('_');
                if(!chats[k]) chats[k]=[]; chats[k].push(msg); localStorage.setItem('fw_chats', JSON.stringify(chats));
            } else {
                const g=groups.find(x=>x.id===activeChat.id);
                g.msgs.push(msg); localStorage.setItem('fw_groups', JSON.stringify(groups));
            }
            renderChat();
        }
        function renderChat(){
            const c=document.getElementById('chat-msgs');
            let msgs=[];
            if(activeChat.type==='private'){ const k=[user.phone, activeChat.id].sort().join('_'); msgs=chats[k]||[]; }
            else { msgs=groups.find(x=>x.id===activeChat.id).msgs; }
            c.innerHTML = msgs.map(m=>`<div><b>${m.s}:</b> ${m.t||''} [${m.type}]</div>`).join('');
        }
        function sendChatMedia(t){
            if(t==='live') return alert("Live Stream Started (Demo)");
            document.getElementById('chat-file').click();
            document.getElementById('chat-file').onchange=e=>{
                const r=new FileReader(); r.onload=ev=>sendChat(t, ev.target.result); r.readAsDataURL(e.target.files[0]);
            };
        }

        // --- FEEDBACK ---
        function giveFb(t){
            if(t==='live') return alert("Live Feedback (Demo)");
            const x=prompt("Feedback:"); if(x){ feedbacks.push({u:user.name, c:x}); localStorage.setItem('fw_fb',JSON.stringify(feedbacks)); showAlert("Sent","success"); }
        }
        function viewFbs(){
            const c=document.getElementById('fb-list');
            c.innerHTML=feedbacks.map(f=>`<div><b>${f.u}:</b> ${f.c}</div>`).join('');
        }

    </script>
</body>
</html>
