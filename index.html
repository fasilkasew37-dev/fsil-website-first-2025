import React, { useState, useEffect } from 'react';

export default function Home() {
    const [currentView, setCurrentView] = useState('home');
    const [posts, setPosts] = useState([]);
    const [newPostContent, setNewPostContent] = useState('');
    const [loading, setLoading] = useState(false);
    const [statusMessage, setStatusMessage] = useState('');
    const [isLoggedIn, setIsLoggedIn] = useState(false);

    // ------------------------------
    // ፅሁፎችን ማስመጣት
    // ------------------------------
    const fetchPosts = async () => {
        try {
            const res = await fetch('/api/get-posts');
            if (res.ok) {
                const data = await res.json();
                setPosts(data.posts);
            } else {
                setPosts([{ id: 1, title: "API ችግር", content: "Backend አልሰራም።" }]);
            }
        } catch (e) {
            setPosts([{ id: 1, title: "Network ችግር", content: "ኔትዎርክ አልሰራም።" }]);
        }
    };

    useEffect(() => {
        fetchPosts();
    }, []);

    // ------------------------------
    // ፅሁፍ መለጠፍ
    // ------------------------------
    const handlePostText = async () => {
        if (!newPostContent.trim()) {
            setStatusMessage("መ
