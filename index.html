<!DOCTYPE html>
<html lang="am">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>рЇІрѕ▓рѕЇ рІїрЅЦ ріарЇЋ - Fasil Web App (V15.0)</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; text-align: center; padding: 20px; background: #f0f4f8; }
        .section { max-width: 700px; margin: 20px auto; padding: 30px; background: white; border-radius: 12px; display: none; box-shadow: 0 8px 20px rgba(0,0,0,0.1); border-top: 5px solid #007bff; }
        #agreement-view { display: block; }
        input, select, textarea { width: 90%; padding: 12px; margin: 10px auto; display: block; border: 1px solid #ccc; border-radius: 8px; }
        button, .button-link { width: 90%; padding: 15px; margin: 10px auto; display: block; border-radius: 8px; cursor: pointer; border: none; font-size: 16px; color: white; text-decoration: none; }
        .main-btn { background: #007bff; } .success-btn { background: #28a745; } .delete-btn { background: #dc3545; }
        .feature-btn { background: #8c5aee; } .social-btn { background: #ff7043; } .business-btn { background: #00a08e; }
        
        /* Comment Buttons Style */
        .comment-actions { display: flex; justify-content: space-around; margin-top: 10px; }
        .comment-actions button { width: auto; padding: 5px 15px; font-size: 12px; border-radius: 20px; margin: 0; }
        
        .user-card { display: flex; align-items: center; padding: 10px; background: #f9f9f9; margin-bottom: 10px; border-radius: 8px; }
        .user-card img { width: 50px; height: 50px; border-radius: 50%; margin-right: 15px; }
    </style>
</head>
<body>
    <div id="loading-overlay" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(255,255,255,0.9); z-index:1000; align-items:center; justify-content:center;"><h3>... ріЦрІерїФріљ ріљрІЇ (Loading) ...</h3></div>

    <!-- Hidden Inputs for Files -->
    <input type="file" id="global-file-input" style="display: none;">

    <!-- 1. Agreement -->
    <div class="section" id="agreement-view">
        <h1>ріЦріЋрі│ріЋ рІѕрІ░ рЇІрѕ▓рѕЇ рІїрЅЦ рЅарІ░рѕЁріЊ рѕўрїА</h1>
        <p>рІГрѕЁ рѕўрІхрѕеріГ рѕѕрЅхрѕЮрѕЁрѕГрЅх ріЦріЊ рѕѕрѕўрѕерїЃ рѕЇрІЇрІЇрїЦ рІерЅ░рІўрїІрїђ ріљрІЇрЇб рЇќрѕѕрЅ▓ріФрЇБ рІўрѕеріЮріљрЅх ріЦріЊ рїЦрѕІрЅ╗ ріЋрїЇрїЇрѕГ рІерЅ░ріерѕѕріерѕѕ ріљрІЇрЇб</p>
        <button class="success-btn" onclick="app.handleAgreement(true)">РюЁ ріЦрѕхрѕЏрѕЏрѕѕрѕЂ</button>
        <button class="delete-btn" onclick="alert('рѕўрїарЅђрѕЮ ріарІГрЅйрѕЅрѕЮ!')">РЮї ріарѕЇрѕхрѕЏрѕЏрѕЮ</button>
    </div>

    <!-- 2. Home (Login/Signup Choice) -->
    <div class="section" id="home-view">
        <h1>ріЦріЋрІ┤рЅх рѕўрїарЅђрѕЮ рІГрЇѕрѕЇрїІрѕЅ?</h1>
        <button class="main-btn" onclick="app.showView('signup-view')">рЅаріљрЇЃ рѕѕрѕўрѕўрІЮрїѕрЅЦ / рѕѕрѕўрїЇрЅБрЅх</button>
        <button class="feature-btn" onclick="app.showView('signup-view')">рЅаріГрЇЇрІФ ріарѕЏрѕФрїГ рѕѕрѕўрѕўрІЮрїѕрЅЦ</button>
    </div>

    <!-- 3. Signup -->
    <div class="section" id="signup-view">
        <h2>ріарІ▓рѕх рѕЮрІЮрїѕрЅБ</h2>
        <div id="signup-error" style="color:red; display:none;"></div>
        <input type="text" id="reg-name" placeholder="рѕЎрѕЅ рѕхрѕЮ">
        <input type="text" id="reg-phone" placeholder="рѕхрѕЇріГ рЅЂрїЦрѕГ">
        <input type="email" id="reg-email" placeholder="рібрѕюрѕЇ (@gmail.com рЅЦрЅ╗)">
        <input type="password" id="reg-pass" placeholder="рІерІГрѕѕрЇЇ рЅЃрѕЇ (6 ріарѕђрІЮ)">
        <p>рІерЇЋрѕ«рЇІрІГрѕЇ рЇјрЅХ:</p>
        <input type="file" id="reg-photo">
        <button class="main-btn" onclick="auth.signup()">рѕўрІЮрїЇрЅЦ (Sign Up)</button>
        <p onclick="app.showView('login-view')" style="cursor:pointer; color:blue;">ріаріФрІЇріЋрЅх ріФрѕѕрІјрЅх рІГрїЇрЅА</p>
    </div>

    <!-- 4. Login -->
    <div class="section" id="login-view">
        <h2>рѕўрїЇрЅбрІФ (Login)</h2>
        <div id="login-error" style="color:red; display:none;"></div>
        <input type="text" id="login-phone" placeholder="рѕхрѕЇріГ рЅЂрїЦрѕГ">
        <input type="password" id="login-pass" placeholder="рІерІГрѕѕрЇЇ рЅЃрѕЇ">
        <button class="success-btn" onclick="auth.login()">рїЇрЅБ</button>
    </div>

    <!-- 5. Dashboard -->
    <div class="section" id="dashboard-view">
        <h1>рІеріарїѕрѕЇрїЇрѕјрЅх рѕЏрІЋріерѕЇ</h1>
        <button class="main-btn" onclick="app.loadPosts('text'); app.showView('posts-view')">­ЪЊё рѕўрѕерїЃ рѕўрѕўрѕЇріерЅх (Posts)</button>
        <button class="main-btn" onclick="app.showView('create-post-view')">РюЇ№ИЈ рѕўрѕерїЃ рѕўрѕѕрїарЇЇ</button>
        <button class="social-btn" onclick="app.startPrivateChat()">­Ъњг рЅарІЇрѕхрїЦ рѕўрѕхрѕўрѕГ рѕЏрІЇрѕФрЅх</button>
        <button class="business-btn" onclick="app.showView('business-view'); biz.updateBalance()">­Ъњ░ рЅбрІЮріљрѕх (Finance)</button>
        <button class="delete-btn" onclick="auth.logout()">рІЇрїБ (Log Out)</button>
    </div>

    <!-- 6. Posts View -->
    <div class="section" id="posts-view">
        <h2>рІерЅ░рѕѕрїарЇЅ рѕўрѕерїЃрІјрЅй</h2>
        <div style="display:flex; gap:10px;">
            <button class="main-btn" onclick="app.loadPosts('text')">Text</button>
            <button class="feature-btn" onclick="app.loadPosts('image')">Image</button>
            <button class="social-btn" onclick="app.loadPosts('video')">Video</button>
        </div>
        <div id="posts-container"></div>
        <button class="delete-btn" onclick="app.showView('dashboard-view')">рЅ░рѕўрѕѕрѕх</button>
    </div>

    <!-- 7. Create Post -->
    <div class="section" id="create-post-view">
        <h2>ріарІ▓рѕх рѕўрѕерїЃ рѕўрѕѕрїарЇЇ</h2>
        <select id="post-type">
            <option value="text">рЇЁрѕЂрЇЇ</option>
            <option value="image">рѕЮрѕхрѕЇ</option>
            <option value="video">рЅфрІ▓рІ«</option>
            <option value="audio">рІхрѕЮрЇЁ</option>
        </select>
        <input type="text" id="post-title" placeholder="рѕГрІЋрѕх">
        <textarea id="post-content" placeholder="рЇЁрѕЂрЇЇ ріерѕєріљ ріЦрІџрѕЁ рІГрЇЃрЇЅ..."></textarea>
        <input type="file" id="post-file">
        <button class="success-btn" onclick="app.createPost()">рѕѕрїЦрЇЇ (Post)</button>
        <button class="delete-btn" onclick="app.showView('dashboard-view')">рЅ░рѕўрѕѕрѕх</button>
    </div>

    <!-- 8. Business View -->
    <div class="section" id="business-view">
        <h2>рІерЅбрІЮріљрѕх рѕЏрІЋріерѕЇ</h2>
        <h3 id="balance-display">Balance: 0.00 USD</h3>
        <input type="number" id="amount-input" placeholder="рѕўрїаріЋ">
        <button class="success-btn" onclick="biz.deposit()">рїѕріЋрІўрЅЦ ріарѕхрїѕрЅБ (Deposit)</button>
        <button class="main-btn" onclick="biz.withdraw()">рїѕріЋрІўрЅЦ ріарІЇрїБ (Withdraw)</button>
        <button class="delete-btn" onclick="app.showView('dashboard-view')">рЅ░рѕўрѕѕрѕх</button>
    </div>

    <!-- 9. Chat User Selection -->
    <div class="section" id="user-list-view">
        <h2>рЅ░рїарЅЃрѕџ рІГрѕЮрѕерїА</h2>
        <div id="user-list-container"></div>
        <button class="delete-btn" onclick="app.showView('dashboard-view')">рЅ░рѕўрѕѕрѕх</button>
    </div>

    <!-- 10. Chat Room -->
    <div class="section" id="chat-room-view">
        <h2 id="chat-with-name"></h2>
        <div id="chat-messages" style="height:300px; overflow-y:scroll; border:1px solid #ccc; margin-bottom:10px;"></div>
        <input type="text" id="chat-input" placeholder="рѕўрѕЇрІЋріГрЅх...">
        <button class="main-btn" onclick="app.sendMessage('text')">рѕІріГ</button>
        <button class="delete-btn" onclick="app.showView('dashboard-view')">рІЮрїІ</button>
    </div>

    <!-- Scripts -->
    <script src="js/auth.js"></script>
    <script src="js/business.js"></script>
    <script src="js/app_logic.js"></script>
</body>
</html>
